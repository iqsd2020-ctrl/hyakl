:root{--font-heading:'Amiri',serif;--font-body:'Amiri',serif;--base-size:16px;--bg-body:radial-gradient(circle at top,#1e293b 0%,#020617 100%);--bg-card:linear-gradient(to bottom right,rgba(23,37,84,0.9),rgba(2,6,23,0.98));--bg-input:rgba(30,41,59,0.6);--bg-side-menu:#0f172a;--text-main:#f8fafc;--text-muted:#94a3b8;--accent-color:#fbbf24;--accent-dark:#b45309;--btn-gradient-start:#FFB800;--btn-gradient-end:#C05800;--accent-contrast:#ffffff;--border-color:rgba(255,255,255,0.1);--card-3d-depth:3px;--card-3d-shadow-spread:0 10px 30px rgba(0,0,0,0.6);--bg-card-gradient:linear-gradient(145deg,rgba(30,41,59,0.9),rgba(15,23,42,0.95));--bg-pattern-image:url("Css.png");--bg-pattern-opacity:0.10;--correct-bg:linear-gradient(135deg,#059669 0%,#047857 100%);--wrong-bg:linear-gradient(135deg,#b91c1c 0%,#991b1b 100%)}
body{font-family:var(--font-body);font-size:var(--base-size);line-height:1.8;user-select:none;color:var(--text-main);min-height:100vh;min-height:100dvh;overflow-x:hidden;position:relative;overscroll-behavior-y:none !important;touch-action:pan-x pan-y;-webkit-overflow-scrolling:touch}
html{overscroll-behavior-y:none !important}
body::before{content:"";position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg-body);z-index:-2;transition:background 0.5s ease}
body::after{content:"";position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;background-image:var(--bg-pattern-image);opacity:var(--bg-pattern-opacity);background-size:300px auto;pointer-events:none}
h1,h2,h3,h4,.font-heading{font-family:var(--font-heading)}
#question-text{font-family:'Amiri',serif !important;line-height:1.6;text-shadow:0 2px 4px var(--shadow-color);color:var(--text-main);width:100%;max-height:100%;overflow-y:auto;font-size:calc(var(--base-size)* 1.3)!important;scrollbar-width:thin;scrollbar-color:var(--accent-color)transparent;padding:0 10px;display:flex;flex-direction:column;justify-content:center}
.glass-card{background:#0f172a;border:1px solid rgba(255,255,255,0.1);border-radius:1.5rem;border-top:1px solid var(--accent-color);border-bottom:var(--card-3d-depth)solid var(--accent-dark);box-shadow:var(--card-3d-shadow-spread);transition:transform 0.3s ease,box-shadow 0.3s ease;transform:translateZ(0)}
.app-text-accent{color:var(--accent-color)}
.app-text-muted{color:var(--text-muted)}
.app-bg-input{background-color:var(--bg-input)}
.app-border{border-color:var(--border-color)}
.btn-gold-action{
  width:100%;
  padding-block:1rem;
  padding-inline:1rem;
  background:linear-gradient(135deg,#fbbf24 0%,#f59e0b 50%,#b45309 100%);
  color:var(--accent-contrast);
  border-radius:1rem;
  font-family:var(--font-heading);
  font-weight:700;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  border:1px solid rgba(255,255,255,0.25);
  box-shadow:0 4px 15px rgba(0,0,0,0.35);
  transition:transform 0.15s ease-out, filter 0.2s ease, box-shadow 0.2s ease;
}
.btn-gold-action:hover{transform:translateY(-2px);filter:brightness(1.06);box-shadow:0 8px 25px rgba(251,191,36,0.35)}
.btn-gold-action:active{transform:translateY(0) scale(0.99);box-shadow:0 4px 15px rgba(0,0,0,0.25)}
.btn-gold-action:disabled{filter:grayscale(1);opacity:0.6;cursor:not-allowed;transform:none;box-shadow:none}
.modal-box{
  background:linear-gradient(160deg,#1e293b 0%,#020617 100%);
  width:90%;
  max-width:460px;
  max-height:90vh;
  overflow:auto;
  border-radius:1.5rem;
  padding:1.5rem;
  border:1px solid rgba(255,255,255,0.12);
  border-top:1px solid rgba(255,255,255,0.18);
  box-shadow:0 25px 50px -12px rgba(0,0,0,0.5);
  transform:scale(0.95);
  transition:transform 0.3s ease, background 0.2s ease, border-color 0.2s ease;
}
.menu-item{
  margin:0.4rem 0.8rem;
  padding:0.7rem 1rem;
  border-radius:1rem;
  display:flex;
  align-items:center;
  gap:1rem;
  cursor:pointer;
  font-weight:bold;
  color:var(--text-muted);
  border:1px solid rgba(255,255,255,0.08);
  border-bottom:3px solid rgba(255,255,255,0.12);
  background:linear-gradient(to bottom,rgba(51,65,85,0.35),rgba(15,23,42,0.75));
  box-shadow:0 6px 18px rgba(0,0,0,0.35);
  transition:transform 0.15s ease-out, background 0.2s ease, color 0.2s ease, border-color 0.2s ease;
}
.menu-item:hover{
  background:linear-gradient(to bottom,rgba(51,65,85,0.5),rgba(30,41,59,0.85));
  color:var(--accent-color);
  border-color:rgba(251,191,36,0.35);
  transform:translateX(-4px);
}
.menu-item:active{
  transform:translateY(2px);
  box-shadow:none;
  border-bottom-width:1px;
}
body,p,h1,h2,h3,h4,h5,h6{color:var(--text-main)}
.text-fixed-white{color:#ffffff !important}
::-webkit-scrollbar{width:6px}
::-webkit-scrollbar-track{background:var(--bg-input)}
::-webkit-scrollbar-thumb{background:var(--text-muted);border-radius:10px}
.btn-secondary{
  background-color: rgba(51,65,85,0.25);
  border: 1px solid rgba(255,255,255,0.12);
  border-bottom: 3px solid rgba(0,0,0,0.40);
  border-radius: 0.75rem;
  padding: 0.75rem 1rem;
  color: var(--text-muted);
  font-family: var(--font-heading);
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  cursor: pointer;
  transition: transform 0.15s ease-out, background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
}
.btn-secondary:hover{
  background-color: rgba(51,65,85,0.35);
  color: var(--accent-color);
  border-color: rgba(251,191,36,0.35);
}
.btn-secondary:active{
  transform: translateY(3px);
  border-bottom-width: 1px;
}
.option-btn{width:100%;height:65px !important;min-height:65px !important;max-height:65px !important;background:var(--bg-input);border:1px solid var(--border-color);border-bottom:4px solid rgba(0,0,0,0.4)!important;border-radius:0.75rem;padding:0 1rem !important;display:flex !important;align-items:center !important;justify-content:flex-start;gap:0.75rem;color:var(--text-main);font-size:var(--base-size)!important;line-height:1.1 !important;text-align:right;overflow:hidden;position:relative;cursor:pointer;box-shadow:0 4px 6px rgba(0,0,0,0.1);transition:transform 0.1s,border-bottom-width 0.1s,background-color 0.2s}
.option-btn:active{border-bottom-width:1px !important;transform:translateY(3px);height:65px !important;box-shadow:none}
.option-btn .option-text{display:block;white-space:normal;overflow-wrap:anywhere;word-break:break-word;}
.option-btn.btn-correct{
  background:var(--correct-bg)!important;
  border-color:rgba(52,211,153,0.85)!important;
}
.option-btn.btn-incorrect{
  background:var(--wrong-bg)!important;
  border-color:rgba(248,113,113,0.85)!important;
}
.option-btn.btn-correct .option-text,
.option-btn.btn-incorrect .option-text{
  color:#fff!important;
  font-weight:800;
}
.option-btn.btn-correct .option-char{
  background:rgba(255,255,255,0.12)!important;
  border-color:rgba(52,211,153,0.85)!important;
  color:#fff!important;
}
.option-btn.btn-incorrect .option-char{
  background:rgba(255,255,255,0.10)!important;
  border-color:rgba(248,113,113,0.85)!important;
  color:#fff!important;
}
.option-number{width:32px;height:32px;min-width:32px;background:rgba(0,0,0,0.2);border-radius:50%;display:flex;align-items:center;justify-content:center;color:var(--accent-color);font-family:var(--font-heading);flex-shrink:0;border:1px solid var(--border-color);transition:background-color 0.2s,color 0.2s,border-color 0.2s}
.option-hidden{opacity:0;visibility:hidden;pointer-events:none}
#side-menu-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.9);z-index:40;opacity:0;pointer-events:none;transition:opacity 0.3s}
#side-menu-overlay.open{opacity:1;pointer-events:auto}
#side-menu{position:fixed;top:0;right:0;width:280px;height:100%;background:rgba(15,23,42,0.95);z-index:200;transform:translateX(110%);transition:transform 0.4s cubic-bezier(0.4,0,0.2,1);box-shadow:-10px 0 30px rgba(0,0,0,0.5);border-top-left-radius:24px;border-bottom-left-radius:24px;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border-left:1px solid rgba(255,255,255,0.1)}
#side-menu.open{transform:translateX(0)}
.menu-item .material-symbols-rounded{font-size:22px;transition:transform 0.3s}
.menu-item:hover .material-symbols-rounded{transform:scale(1.1)}
#side-menu.open{right:0}
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.95);z-index:300 !important;display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity 0.3s}
.modal-overlay.active{opacity:1;pointer-events:auto}
.modal-overlay.active .fade-in{animation:fadeIn 0.6s cubic-bezier(0.22,1,0.36,1)forwards}
#confirm-modal.modal-overlay{z-index:10050 !important}
#fav-detail-modal.modal-overlay{z-index:350 !important}
body.ban-locked{overflow:hidden !important}
body.ban-locked > *:not(#ban-modal){
  pointer-events:none !important;
  user-select:none !important;
  touch-action:none !important;
}
body.ban-locked #ban-modal{pointer-events:auto !important}
body.ban-locked #ban-modal{opacity:1 !important}
@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}
to{opacity:1;transform:translateY(0)}}
.shake{animation:shake 0.4s cubic-bezier(.36,.07,.19,.97)both}
@keyframes shake{0%,100%{transform:translateX(0)}
25%{transform:translateX(-6px)}
75%{transform:translateX(6px)}}
.pulse-slow{animation:pulse-slow 3s infinite}
@keyframes pulse-slow{0%,100%{opacity:1;transform:scale(1)}
50%{opacity:0.8;transform:scale(1.05)}}
.score-pop{animation:scorePop 0.4s cubic-bezier(0.175,0.885,0.32,1.275)}
@keyframes scorePop{0%{transform:scale(1)}
50%{transform:scale(1.5);color:var(--accent-color)}
100%{transform:scale(1)}}
.streak-fire{transition:transform 0.3s,opacity 0.3s,filter 0.3s;opacity:0;transform:translateY(10px)scale(0.8);filter:grayscale(1)}
.streak-fire.active{opacity:1;transform:translateY(0)scale(1);filter:grayscale(0);animation:burn 1s infinite alternate}
@keyframes burn{from{text-shadow:0 0 4px #ef4444,0 -5px 10px var(--accent-color)}
to{text-shadow:0 0 8px #ef4444,0 -10px 20px var(--accent-color);transform:scale(1.1)}}
#toast-notification{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%)translateY(150%);background:var(--bg-side-menu);border:1px solid var(--accent-color);color:var(--text-main);padding:1rem 2rem;border-radius:1rem;z-index:2001;font-family:'Amiri',serif;font-weight:700;font-size:0.95rem;letter-spacing:0.5px;text-align:center;min-width:300px;transition:transform 0.4s cubic-bezier(0.68,-0.55,0.27,1.55);box-shadow:0 10px 30px var(--shadow-color)}
#toast-notification.show{transform:translateX(-50%)translateY(0)}
.badges-list-container{display:flex;flex-direction:column;gap:0.75rem;padding:0.25rem;max-height:60vh;overflow-y:auto}
.badge-card{display:flex;align-items:center;gap:1rem;padding:1rem;background:var(--bg-input);border:1px solid var(--border-color);border-radius:1rem;position:relative;transition:transform 0.3s,background-color 0.3s,border-color 0.3s,box-shadow 0.3s;overflow:hidden}
.badge-card.unlocked{background:linear-gradient(to left,rgba(6,78,59,0.4),var(--bg-input));border-color:rgba(52,211,153,0.3)}
.badge-card.unlocked .badge-icon-box{background:rgba(52,211,153,0.1);color:#34d399;border-color:#34d399}
.badge-card.active-target{border-color:var(--accent-color);background:linear-gradient(to left,rgba(251,191,36,0.1),var(--bg-input));box-shadow:0 4px 20px rgba(251,191,36,0.05);transform:scale(1.01)}
.badge-card.active-target .badge-icon-box{background:rgba(251,191,36,0.1);color:var(--accent-color);border-color:var(--accent-color);animation:pulse-slow 2s infinite}
.badge-card.locked{opacity:0.7;filter:grayscale(0.8)}
.badge-icon-box{width:3.5rem;height:3.5rem;border-radius:50%;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);display:flex;align-items:center;justify-content:center;font-size:1.75rem;flex-shrink:0;transition:transform 0.3s,color 0.3s,background-color 0.3s,border-color 0.3s}
.badge-info{flex-grow:1}
.badge-progress-track{height:6px;background:rgba(0,0,0,0.3);border-radius:10px;margin-top:0.5rem;overflow:hidden;position:relative}
.badge-progress-fill{height:100%;background:linear-gradient(90deg,var(--accent-dark),var(--accent-color));width:0%;border-radius:10px;transition:width 1s ease-out}
.reward-modal-content{text-align:center;padding:1rem}
.reward-icon-large{font-size:5rem;color:var(--accent-color);filter:drop-shadow(0 0 30px rgba(251,191,36,0.6));animation:floatBadge 3s infinite ease-in-out;margin-bottom:1rem;display:inline-block}
@keyframes floatBadge{0%,100%{transform:translateY(0)}
50%{transform:translateY(-10px)}}
.reward-items-grid{display:flex;justify-content:center;gap:1rem;margin:1.5rem 0}
.reward-item-box{background:rgba(255,255,255,0.05);padding:0.75rem;border-radius:1rem;border:1px solid rgba(255,255,255,0.1);min-width:80px;animation:popIn 0.5s cubic-bezier(0.175,0.885,0.32,1.275)forwards;opacity:0;transform:scale(0.5)}
.reward-item-box:nth-child(1){animation-delay:0.2s}
.reward-item-box:nth-child(2){animation-delay:0.4s}
.reward-item-box:nth-child(3){animation-delay:0.6s}
@keyframes popIn{to{opacity:1;transform:scale(1)}}
.custom-select-trigger{width:100%;background:var(--bg-input);border:1px solid var(--border-color);color:var(--text-main);border-radius:0.75rem;padding:0.75rem 1rem;font-family:'Amiri',serif;font-size:1.1rem;text-align:right;display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition:background-color 0.3s,border-color 0.3s}
.custom-select-trigger:hover{border-color:var(--accent-color);background:var(--bg-card)}
.custom-select-trigger:disabled{opacity:0.5;cursor:not-allowed;border-color:var(--border-color)}
.selection-item{background:var(--bg-input);padding:1rem;border-bottom:1px solid var(--border-color);color:var(--text-main);font-family:'Amiri',serif;font-size:1.2rem;cursor:pointer;transition:background-color 0.2s,color 0.2s,padding-right 0.2s;text-align:right;display:flex;align-items:center;justify-content:space-between}
.selection-item:hover{background:rgba(251,191,36,0.1);color:var(--accent-color);padding-right:1.5rem}
.selection-item:last-child{border-bottom:none}
.trigger-icon{color:var(--accent-color);font-size:1.2rem;transition:transform 0.3s,color 0.3s}
#toggle-enrichment-btn:hover{transform:scale(1.1)}
.btn-marathon-silver{background:linear-gradient(135deg,#e5e7eb 0%,#a1a1aa 100%)!important;color:#1f2937 !important;width:100%;border-radius:0.75rem;padding:0.75rem 1rem;display:flex;align-items:center;justify-content:center;gap:0.5rem;font-weight:700;font-family:var(--font-heading);border:1px solid rgba(255,255,255,0.5)!important;border-bottom:5px solid #4b5563 !important;box-shadow:0 4px 15px rgba(161,161,170,0.4);transition:transform 0.2s,box-shadow 0.2s;overflow:hidden;position:relative;cursor:pointer}
.btn-marathon-silver:active{transform:translateY(2px);border-bottom-width:1px !important;box-shadow:none}
.btn-marathon-silver:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(161,161,170,0.6)}
.btn-marathon-silver:active{transform:scale(0.98)}
@keyframes pulse-shine{0%,100%{transform:scale(1);opacity:1}
50%{transform:scale(1.01);opacity:0.95}}
.btn-marathon-silver-anim{animation:pulse-shine 2s infinite}
.count-badge{position:absolute;top:-5px;left:-5px;background:var(--accent-color);color:#000;font-size:10px;font-weight:bold;padding:2px 6px;border-radius:10px;border:1px solid #fff;box-shadow:0 2px 4px rgba(0,0,0,0.3);z-index:10}
.shop-item-owned{border-color:var(--accent-color)!important;background:rgba(251,191,36,0.1)!important;pointer-events:none}
.shop-item-owned::after{content:'check_circle';font-family:'Material Symbols Rounded';position:absolute;top:5px;left:5px;font-size:1.2rem;color:var(--accent-color)}
.pulse-red{animation:pulseRed 1.5s infinite}
@keyframes pulseRed{0%{transform:scale(0.95);box-shadow:0 0 0 0 rgba(239,68,68,0.7)}
70%{transform:scale(1);box-shadow:0 0 0 6px rgba(239,68,68,0)}
100%{transform:scale(0.95);box-shadow:0 0 0 0 rgba(239,68,68,0)}}
.notif-item{border-bottom:1px solid rgba(255,255,255,0.05);transition:background 0.2s}
.notif-item:hover{background:rgba(255,255,255,0.05)}
.notif-item:last-child{border-bottom:none}
#news-ticker-container {
    width: 100%;
    background: rgba(15, 23, 42, 0.9);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(245, 158, 11, 0.3);
    height: 40px;
    overflow: hidden;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 1000;
    display: none; 
}
.ticker-wrapper {
    display: flex;
    width: max-content;
    height: 100%;
    align-items: center;
}
.ticker-content {
    white-space: nowrap;
    padding-right: 50px;
    color: #fbbf24; 
    font-family: 'Amiri', serif;
    font-size: 1.1rem;
    font-weight: bold;
    animation: ticker-scroll 60s linear infinite;
}
@keyframes ticker-scroll {
    0% { transform: translateX(0); }
    100% { transform: translateX(100%); } 
}
#welcome-area:not(.hidden) ~ #main-container {
    margin-top: 40px;
}
.badges-list-container{display:flex !important;flex-direction:column !important;gap:12px !important;padding:10px !important;width:100% !important;max-height:65vh !important;overflow-y:auto !important;box-sizing:border-box !important}
.badge-card{display:flex !important;flex-direction:row !important;align-items:center !important;width:100% !important;min-height:80px !important;padding:15px !important;margin:0 !important;background:var(--bg-input);border:1px solid var(--border-color);border-radius:12px !important;position:relative !important;flex-shrink:0 !important;box-shadow:0 4px 6px rgba(0,0,0,0.1)}
.badge-icon-box{width:50px !important;height:50px !important;min-width:50px !important;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-left:15px !important;background:rgba(255,255,255,0.05)}
.badge-info{flex-grow:1 !important;overflow:hidden}
.badge-info h4{margin:0 0 5px 0 !important;font-size:1rem !important}
.question-card-3d{background:linear-gradient(to bottom,rgba(30,41,59,0.8),rgba(15,23,42,0.9))!important;border:1px solid rgba(255,255,255,0.2)!important;border-bottom:6px solid rgba(0,0,0,0.5)!important;border-radius:1.5rem !important;box-shadow:0 10px 25px rgba(0,0,0,0.3)!important;height:220px !important;min-height:220px !important;max-height:220px !important;display:flex !important;flex-direction:column;justify-content:center;align-items:center;overflow:hidden !important;padding:1rem !important}
#user-profile-btn,#top-header>div:nth-child(2){background:linear-gradient(to bottom,rgba(51,65,85,0.9),rgba(15,23,42,0.95))!important;border:1px solid rgba(255,255,255,0.15)!important;border-bottom:4px solid rgba(0,0,0,0.5)!important;border-radius:9999px !important;box-shadow:0 5px 10px rgba(0,0,0,0.3)!important;transition:transform 0.1s,border-bottom-width 0.1s !important;transform:translateY(0)}
#user-profile-btn:active{border-bottom-width:1px !important;transform:translateY(3px)!important;box-shadow:none !important}
.custom-select-trigger{background:linear-gradient(to bottom,rgba(51,65,85,0.6),rgba(30,41,59,0.9))!important;border:1px solid rgba(255,255,255,0.2)!important;border-bottom:4px solid rgba(0,0,0,0.5)!important;border-radius:0.75rem !important;box-shadow:0 4px 6px rgba(0,0,0,0.1)!important;transition:transform 0.1s,border-bottom-width 0.1s !important;transform:translateY(0)}
.custom-select-trigger:active{border-bottom-width:1px !important;transform:translateY(3px)!important;box-shadow:none !important}
.selection-item{margin-bottom:0.75rem !important;background:linear-gradient(to bottom,rgba(40,50,70,0.6),rgba(20,30,50,0.8))!important;border:1px solid rgba(255,255,255,0.15)!important;border-bottom:4px solid rgba(0,0,0,0.5)!important;border-radius:0.75rem !important;padding:0.8rem 1rem !important;display:flex !important;justify-content:space-between !important;align-items:center !important;box-shadow:0 4px 6px rgba(0,0,0,0.1);transition:transform 0.1s,border-bottom-width 0.1s,background-color 0.2s,border-color 0.2s !important;transform:translateY(0)}
.selection-item:hover{background:linear-gradient(to bottom,rgba(50,60,80,0.7),rgba(30,40,60,0.9))!important;border-color:var(--accent-color)!important}
.selection-item:active{border-bottom-width:1px !important;transform:translateY(3px)!important;box-shadow:none !important}
.selection-item:last-child{border-bottom:4px solid rgba(0,0,0,0.5)!important;margin-bottom:0.75rem !important}
#logout-btn-menu{background:linear-gradient(to bottom,rgba(127,29,29,0.5),rgba(69,10,10,0.8))!important;border:1px solid rgba(255,255,255,0.1)!important;border-bottom:4px solid rgba(0,0,0,0.5)!important;border-radius:0.75rem !important;margin:0 0.8rem !important;padding:0.7rem 1rem !important;width:auto !important;transition:transform 0.1s,border-bottom-width 0.1s !important;font-size:0.95rem !important}
#logout-btn-menu:active{border-bottom-width:1px !important;transform:translateY(3px)!important}
.input-glass{width:100% !important;display:block !important;padding:14px 20px !important;margin-bottom:16px !important;box-sizing:border-box !important;background:rgba(15,23,42,0.6)!important;backdrop-filter:blur(10px)!important;-webkit-backdrop-filter:blur(10px)!important;border-radius:16px !important;border:1px solid rgba(255,255,255,0.1)!important;border-bottom:2px solid rgba(255,255,255,0.15)!important;color:#FFC900 !important;font-family:'Amiri',serif !important;font-size:1.2rem !important;font-weight:bold !important;line-height:1.5 !important;text-align:right !important;box-shadow:0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -1px rgba(0,0,0,0.06)!important;transition:all 0.3s cubic-bezier(0.4,0,0.2,1)!important;outline:none !important}
.input-glass:focus{background:rgba(15,23,42,0.8)!important;border-color:#FFC700 !important;box-shadow:0 0 0 4px rgba(251,191,36,0.1),0 10px 15px -3px rgba(0,0,0,0.2)!important;transform:translateY(-2px)!important}
.input-glass::placeholder{color:rgba(251,191,36,0.5)!important;font-family:'Amiri',serif !important;font-weight:normal !important}
.input-glass[dir="ltr"]{text-align:left !important;font-family:monospace !important;direction:ltr !important}
#shop-view button,#inventory-view .grid>div{background:linear-gradient(to bottom,rgba(51,65,85,0.5),rgba(30,41,59,0.8))!important;border:1px solid rgba(255,255,255,0.1)!important;border-bottom:4px solid rgba(0,0,0,0.5)!important;border-radius:1rem !important;transition:transform 0.1s,border-bottom-width 0.1s !important}
#shop-view button:active{border-bottom-width:1px !important;transform:translateY(3px)!important}
#score-card{background:linear-gradient(135deg,#1e293b 0%,#0f172a 100%)!important;border:1px solid rgba(255,255,255,0.1)!important;border-bottom:8px solid #000 !important;box-shadow:0 20px 40px rgba(0,0,0,0.4)!important}
.btn-secondary,.close-modal,#restart-button{border-bottom:3px solid rgba(0,0,0,0.4)!important;transition:transform 0.1s,border-bottom-width 0.1s !important}
.btn-secondary:active,.close-modal:active,#restart-button:active{border-bottom-width:0px !important;transform:translateY(3px)!important}
.btn-marathon-silver{border:1px solid rgba(255,255,255,0.5)!important;border-bottom:5px solid #4b5563 !important}
.btn-marathon-silver:active{border-bottom-width:1px !important;transform:translateY(4px)!important}
#leaderboard-list>div.lb-rank-default:not(.active-shine){background:linear-gradient(to bottom,rgba(15,23,42,0.72),rgba(2,6,23,0.92))!important;border:1px solid rgba(148,163,184,0.18)!important;border-bottom:4px solid rgba(0,0,0,0.55)!important;box-shadow:0 10px 25px rgba(0,0,0,0.35)!important;transform:translateY(0)!important;transition:transform 0.12s,border-bottom-width 0.12s,box-shadow 0.2s,border-color 0.2s,background 0.2s !important;backdrop-filter:blur(8px)!important;-webkit-backdrop-filter:blur(8px)!important}
#leaderboard-list>div.lb-rank-default:not(.active-shine):hover{background:linear-gradient(to bottom,rgba(30,41,59,0.78),rgba(2,6,23,0.94))!important;border-color:rgba(245,158,11,0.35)!important;transform:translateY(-2px)!important;box-shadow:0 14px 30px rgba(0,0,0,0.45)!important}
#leaderboard-list>div.lb-rank-default:not(.active-shine):active{border-bottom-width:1px !important;transform:translateY(3px)!important;box-shadow:none !important}
#leaderboard-list>div.lb-rank-default:hover{background:linear-gradient(to bottom,rgba(30,41,59,0.78),rgba(2,6,23,0.94))!important;border-color:rgba(245,158,11,0.35)!important;transform:translateY(-2px)!important;box-shadow:0 14px 30px rgba(0,0,0,0.45)!important}
#leaderboard-list>div.lb-rank-default:active{border-bottom-width:1px !important;transform:translateY(3px)!important;box-shadow:none !important}
.frame-gold{box-shadow:0 0 0 2px #d97706,0 0 10px #fbbf24;border:2px solid #fbbf24}
.frame-fire{box-shadow:0 0 5px #ef4444,0 0 10px #f97316;border:2px solid #ef4444;animation:firePulse 1.5s infinite alternate}
@keyframes firePulse{0%{box-shadow:0 0 5px #ef4444,0 0 10px #f97316}
100%{box-shadow:0 0 15px #ef4444,0 0 25px #f59e0b;border-color:#f59e0b}}
.frame-floral{border:3px dashed #10b981;box-shadow:0 0 0 2px #ec4899}
.frame-diamond{border:2px solid #06b6d4;box-shadow:0 0 10px #22d3ee,inset 0 0 10px #22d3ee;animation:diamondSparkle 2s infinite}
@keyframes diamondSparkle{0%,100%{filter:brightness(1)}
50%{filter:brightness(1.3)}}
.frame-neon{border:2px solid #d946ef;box-shadow:0 0 5px #d946ef,0 0 10px #8b5cf6}
.avatar-wrapper{position:relative;display:inline-block;border-radius:50%;z-index:1}
.avatar-frame-overlay{position:absolute;inset:-3px;border-radius:50%;pointer-events:none;z-index:2;inset:-4px;z-index:10;background:transparent}
.frame-galaxy{border:2px solid transparent;box-shadow:0 0 15px #a855f7,inset 0 0 10px #6366f1}
.frame-galaxy::after{content:'';position:absolute;inset:-4px;border-radius:50%;border:2px dashed rgba(255,255,255,0.4);border-top-color:#ec4899;animation:spinSlow 6s linear infinite}
.frame-dark-matter{box-shadow:inset 0 0 20px #000000,0 0 15px #4c1d95;border:2px solid #312e81;animation:pulseDark 3s infinite alternate}
@keyframes pulseDark{0%{box-shadow:inset 0 0 20px #000,0 0 10px #4c1d95}
100%{box-shadow:inset 0 0 30px #000,0 0 25px #6d28d9}}
.frame-rgb{border:3px double transparent;background-image:linear-gradient(#1e293b,#1e293b),conic-gradient(#ff0000,#ffff00,#00ff00,#00ffff,#0000ff,#ff00ff,#ff0000);background-origin:border-box;background-clip:padding-box,border-box;animation:spinRGB 4s linear infinite}
@keyframes spinRGB{from{filter:hue-rotate(0deg)}
to{filter:hue-rotate(360deg)}}
.frame-divine{border:2px solid #fbbf24;box-shadow:0 0 20px rgba(251,191,36,0.6),inset 0 0 10px rgba(251,191,36,0.4);animation:divineGlow 2s infinite alternate}
.frame-divine::before{content:'';position:absolute;top:-10px;left:50%;transform:translateX(-50%);width:40%;height:4px;background:#fff;border-radius:10px;box-shadow:0 0 10px #fbbf24}
@keyframes divineGlow{0%{box-shadow:0 0 15px #fbbf24;opacity:0.8}
100%{box-shadow:0 0 30px #fbbf24,0 0 50px #f59e0b;opacity:1}}
.frame-karbala{border:3px solid #991b1b;box-shadow:0 0 15px #dc2626;animation:bloodPulse 3s infinite ease-in-out}
.frame-karbala::after{content:'';position:absolute;inset:2px;border-radius:50%;border:1px dashed #fca5a5;opacity:0.5;animation:spinReverse 10s linear infinite}
@keyframes bloodPulse{0%{border-color:#991b1b}
50%{border-color:#ef4444;box-shadow:0 0 25px #ef4444}
100%{border-color:#991b1b}}
#selection-modal.modal-overlay{
  background:radial-gradient(circle at 15% 10%,rgba(251,191,36,0.10) 0%,rgba(0,0,0,0.86) 45%,rgba(0,0,0,0.92) 100%) !important;
  backdrop-filter:blur(10px) saturate(1.05) !important;
  -webkit-backdrop-filter:blur(10px) saturate(1.05) !important;
}
#selection-modal .selection-modal-box{
  max-width:520px;
  width:min(92vw,520px);
  padding:0;
  border-radius:1.75rem;
  border:1px solid rgba(251,191,36,0.22);
  box-shadow:0 30px 70px rgba(0,0,0,0.65);
  overflow:hidden;
  transform:translateY(18px) scale(0.98);
}
#selection-modal.active .selection-modal-box{
  transform:translateY(0) scale(1);
}
#selection-modal .selection-modal-header{
  position:sticky;
  top:0;
  z-index:2;
  padding:1.05rem 1.1rem;
  border-bottom:1px solid rgba(255,255,255,0.07);
  background:linear-gradient(180deg,rgba(15,23,42,0.98) 0%,rgba(15,23,42,0.92) 100%);
}
#selection-modal .selection-modal-header::before{
  content:"";
  position:absolute;
  inset:-40px -60px auto auto;
  width:160px;
  height:160px;
  background:radial-gradient(circle,rgba(251,191,36,0.22),transparent 60%);
  filter:blur(2px);
  opacity:0.65;
  pointer-events:none;
}
#selection-modal .selection-modal-close{
  width:40px;
  height:40px;
  border-radius:9999px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  background:rgba(30,41,59,0.65);
  border:1px solid rgba(255,255,255,0.10);
  color:rgba(226,232,240,0.85);
  font-weight:800;
  transition:transform 0.15s ease, background 0.2s ease, border-color 0.2s ease, color 0.2s ease;
}
#selection-modal .selection-modal-close:hover{
  background:rgba(30,41,59,0.85);
  border-color:rgba(251,191,36,0.25);
  color:#ffffff;
  transform:translateY(-1px);
}
#selection-modal .selection-modal-list{
  padding:1rem 1rem 1.1rem;
  max-height:min(72vh,640px);
  overflow:auto;
}
#selection-modal .selection-item{
  margin-bottom:0.65rem !important;
}
#side-menu.side-menu{
  width:290px;
  background:linear-gradient(180deg,rgba(15,23,42,0.98) 0%,rgba(2,6,23,0.98) 100%) !important;
  border-left:1px solid rgba(251,191,36,0.18) !important;
  box-shadow:-18px 0 55px rgba(0,0,0,0.62) !important;
  border-top-left-radius:28px;
  border-bottom-left-radius:28px;
  overflow:hidden;
}
#side-menu-overlay.open{
  background:radial-gradient(circle at 20% 10%,rgba(251,191,36,0.08),rgba(0,0,0,0.82) 45%,rgba(0,0,0,0.90) 100%) !important;
  backdrop-filter:blur(8px) !important;
  -webkit-backdrop-filter:blur(8px) !important;
}
#side-menu.side-menu .side-menu-header{
  background:radial-gradient(circle at 20% 0%,rgba(251,191,36,0.16) 0%,transparent 55%),
             linear-gradient(180deg,rgba(15,23,42,0.96) 0%,rgba(15,23,42,0.90) 100%);
  border-bottom:1px solid rgba(255,255,255,0.06);
}
#side-menu.side-menu .side-menu-body{
  padding:1rem;
}
#side-menu.side-menu .side-menu-footer{
  background:rgba(15,23,42,0.78);
  border-top:1px solid rgba(255,255,255,0.06);
}
#side-menu.side-menu .side-menu-separator{
  height:1px;
  width:100%;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,0.14),transparent);
  opacity:0.7;
}
#side-menu.side-menu .menu-item{
  margin:0;
  padding:0.85rem 0.9rem;
  border-radius:1.15rem;
  gap:0.85rem;
  align-items:center;
  background:rgba(30,41,59,0.55);
  border:1px solid rgba(255,255,255,0.08);
  border-bottom:3px solid rgba(0,0,0,0.45);
  color:rgba(226,232,240,0.86);
  box-shadow:0 10px 18px rgba(0,0,0,0.25);
  transition:transform 0.15s ease, background 0.2s ease, border-color 0.2s ease, color 0.2s ease;
}
#side-menu.side-menu .menu-item .material-symbols-rounded{
  width:38px;
  height:38px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  border-radius:14px;
  background:rgba(251,191,36,0.10);
  border:1px solid rgba(251,191,36,0.14);
  color:#fbbf24;
  font-size:22px;
  transition:transform 0.15s ease, background 0.2s ease, border-color 0.2s ease;
}
#side-menu.side-menu .menu-item:hover{
  background:rgba(251,191,36,0.10);
  border-color:rgba(251,191,36,0.28);
  color:#fbbf24;
  transform:translateX(-4px);
}
#side-menu.side-menu .menu-item:hover .material-symbols-rounded{
  background:rgba(251,191,36,0.16);
  border-color:rgba(251,191,36,0.25);
  transform:scale(1.04);
}
#side-menu.side-menu .menu-item:active{
  transform:translateY(2px);
  border-bottom-width:1px;
  box-shadow:none;
}
.frame-sakura{border:3px solid #fbcfe8;box-shadow:0 0 10px #f472b6}
.frame-sakura::after{content:'❀';position:absolute;top:-5px;right:0;color:#ec4899;font-size:14px;animation:floatPetal 3s infinite ease-in-out}
.frame-sakura::before{content:'❀';position:absolute;bottom:0;left:-5px;color:#ec4899;font-size:10px;animation:floatPetal 4s infinite ease-in-out reverse}
@keyframes floatPetal{0%,100%{transform:translateY(0)rotate(0deg)}
50%{transform:translateY(-3px)rotate(20deg)}}
.frame-thunder{border:2px dashed #0ea5e9;box-shadow:0 0 10px #0284c7;animation:electricShock 0.5s infinite steps(2)}
@keyframes electricShock{0%{border-color:#0ea5e9;transform:translateX(1px)}
50%{border-color:#bae6fd;transform:translateX(-1px);box-shadow:0 0 20px #38bdf8}
100%{border-color:#0ea5e9}}
.frame-compass{border:4px double #d97706}
.frame-compass::before{content:'';position:absolute;inset:-6px;border-radius:50%;border:1px solid #f59e0b;border-left-color:transparent;border-right-color:transparent;animation:spinSlow 8s linear infinite}
.frame-compass::after{content:'▲';position:absolute;top:-8px;left:50%;transform:translateX(-50%);color:#b45309;font-size:8px}
.frame-void{border:2px solid #fff;box-shadow:0 0 0 2px #000,0 0 20px #fff;animation:voidBreath 4s infinite}
@keyframes voidBreath{0%{box-shadow:0 0 0 2px #000,0 0 10px #fff}
50%{box-shadow:0 0 0 4px #000,0 0 30px #fff}
100%{box-shadow:0 0 0 2px #000,0 0 10px #fff}}
.frame-emerald{border:3px solid #059669;box-shadow:inset 0 0 10px #10b981,0 0 10px #059669;position:relative}
.frame-emerald::after{content:'';position:absolute;top:10%;right:10%;width:6px;height:6px;background:#fff;border-radius:50%;box-shadow:0 0 5px #fff;opacity:0.8;animation:sparkle 2s infinite}
@keyframes spinSlow{from{transform:rotate(0deg)}
to{transform:rotate(360deg)}}
@keyframes spinReverse{from{transform:rotate(360deg)}
to{transform:rotate(0deg)}}
@keyframes sparkle{0%,100%{opacity:0.5;transform:scale(1)}
50%{opacity:1;transform:scale(1.5)}}
.badge-card.diamond{border-color:#06b6d4 !important;background:linear-gradient(to left,rgba(6,182,212,0.15),var(--bg-input))}
.badge-card.diamond .badge-progress-fill{background:linear-gradient(90deg,#06b6d4,#22d3ee)!important}
.badge-card.diamond .badge-icon-box{color:#22d3ee !important;border-color:#06b6d4 !important;box-shadow:0 0 15px rgba(34,211,238,0.4)}
.badge-card.legendary{border:1px solid #ef4444 !important;background:linear-gradient(to left,rgba(239,68,68,0.2),var(--bg-input));box-shadow:0 0 20px rgba(239,68,68,0.1)}
.badge-card.legendary .badge-progress-fill{background:linear-gradient(90deg,#b91c1c,#ef4444)!important}
.badge-card.legendary .badge-icon-box{color:#ef4444 !important;border-color:#b91c1c !important;box-shadow:0 0 20px rgba(239,68,68,0.8);animation:pulse-slow 2s infinite}
.badge-card.locked{box-shadow:none !important;border-color:rgba(255,255,255,0.05)!important}
.badges-list-container,#leaderboard-list{will-change:transform}
.modal-box,#side-menu,.badges-list-container,#leaderboard-list,#notif-list,#review-items-container,#shop-view,#inventory-view,.overflow-y-auto{-ms-overflow-style:none;scrollbar-width:none}
.modal-box::-webkit-scrollbar,#side-menu::-webkit-scrollbar,.badges-list-container::-webkit-scrollbar,#leaderboard-list::-webkit-scrollbar,#notif-list::-webkit-scrollbar,#review-items-container::-webkit-scrollbar,#shop-view::-webkit-scrollbar,#inventory-view::-webkit-scrollbar,.overflow-y-auto::-webkit-scrollbar{display:none}
#enrichment-content{color:#ffffff;font-weight:500;text-shadow:0 2px 5px rgba(0,0,0,0.8);line-height:2.2;font-size:1.1rem}
.modal-box,#side-menu,.badges-list-container,#leaderboard-list,#notif-list,#review-items-container,#shop-view,#inventory-view,.overflow-y-auto{-ms-overflow-style:none;scrollbar-width:none}
.modal-box::-webkit-scrollbar,#side-menu::-webkit-scrollbar,.badges-list-container::-webkit-scrollbar,#leaderboard-list::-webkit-scrollbar,#notif-list::-webkit-scrollbar,#review-items-container::-webkit-scrollbar,#shop-view::-webkit-scrollbar,#inventory-view::-webkit-scrollbar,.overflow-y-auto::-webkit-scrollbar{display:none}
#enrichment-content{color:#ffffff;font-weight:500;text-shadow:0 2px 5px rgba(0,0,0,0.8);line-height:2.2;font-size:1.1rem}
.count-badge{position:absolute !important;top:-8px !important;left:-5px !important;background:var(--accent-color)!important;color:#000000 !important;border:2px solid #006002 !important;font-family:'Amiri',serif !important;font-size:10px !important;font-weight:800 !important;padding:1px 6px !important;border-radius:20px !important;box-shadow:0 3px 6px rgba(0,0,0,0.4)!important;z-index:20}
.frame-cyber-pulse{box-shadow:0 0 0 2px #0ea5e9,0 0 15px #0ea5e9,inset 0 0 10px #0ea5e9;border:2px solid #fff;animation:cyberPulseAnim 1.5s infinite}
@keyframes cyberPulseAnim{0%{box-shadow:0 0 0 2px #0ea5e9,0 0 10px #0ea5e9}
50%{box-shadow:0 0 0 4px #0ea5e9,0 0 25px #0ea5e9}
100%{box-shadow:0 0 0 2px #0ea5e9,0 0 10px #0ea5e9}}
.frame-matrix{border:2px dashed #22c55e;box-shadow:0 0 10px #22c55e;animation:matrixSpin 3s linear infinite}
@keyframes matrixSpin{0%{transform:rotate(0deg);filter:hue-rotate(0deg)}
100%{transform:rotate(360deg);filter:hue-rotate(90deg)}}
.frame-magma{border:3px solid #7f1d1d;box-shadow:0 0 10px #ef4444,inset 0 0 10px #ef4444;animation:magmaFlow 2s infinite alternate}
@keyframes magmaFlow{0%{border-color:#ef4444;box-shadow:0 0 5px #ef4444}
100%{border-color:#fca5a5;box-shadow:0 0 20px #ef4444,0 0 10px #fca5a5}}
.frame-holo{border:2px solid rgba(6,182,212,0.5);box-shadow:0 0 10px #06b6d4;animation:holoFlicker 0.1s infinite}
@keyframes holoFlicker{0%{opacity:1}
95%{opacity:1}
96%{opacity:0.8;transform:translateX(1px)}
100%{opacity:1}}
.frame-radar{border:2px solid #10b981;position:relative;overflow:hidden}
.frame-radar::after{content:'';position:absolute;inset:0;border-radius:50%;background:conic-gradient(from 0deg,transparent 0%,rgba(16,185,129,0.5)20%,transparent 40%);animation:radarSweep 2s linear infinite}
@keyframes radarSweep{from{transform:rotate(0deg)}
to{transform:rotate(360deg)}}
.frame-quantum{border:2px double #8b5cf6;box-shadow:0 0 5px #a78bfa,inset 0 0 10px #8b5cf6;animation:quantumShake 3s infinite ease-in-out}
@keyframes quantumShake{0%,100%{transform:scale(1)}
50%{transform:scale(1.05);box-shadow:0 0 15px #a78bfa}}
.frame-royal-flow{border:3px solid #fbbf24;box-shadow:0 0 15px #d97706;animation:borderFlow 2s infinite}
@keyframes borderFlow{0%{box-shadow:0 0 5px #d97706}
50%{box-shadow:0 0 20px #fbbf24,0 0 10px #fff}
100%{box-shadow:0 0 5px #d97706}}
.frame-neon-pink{border:2px solid #ec4899;box-shadow:0 0 10px #db2777,0 0 20px #db2777;animation:neonBreath 1.5s infinite alternate}
@keyframes neonBreath{from{opacity:0.8}
to{opacity:1;box-shadow:0 0 15px #ec4899,0 0 30px #ec4899}}
.frame-electric{border:2px dashed #eab308;animation:electricJitter 0.3s infinite}
@keyframes electricJitter{0%{transform:translate(0,0)}
25%{transform:translate(1px,-1px)}
50%{transform:translate(-1px,1px)}
75%{transform:translate(1px,1px)}
100%{transform:translate(0,0)}}
.frame-dark-matter{border:2px solid #000;box-shadow:0 0 10px #6366f1,inset 0 0 10px #000;background:#000}
.frame-frost{border:2px solid #bae6fd;box-shadow:0 0 10px #e0f2fe,inset 0 0 10px #bae6fd;animation:frostGlow 3s infinite}
@keyframes frostGlow{50%{box-shadow:0 0 20px #bae6fd}}
.frame-forcefield{border:1px solid rgba(255,255,255,0.5);box-shadow:0 0 0 4px rgba(59,130,246,0.3);animation:forceRipple 1s infinite}
@keyframes forceRipple{0%{box-shadow:0 0 0 2px rgba(59,130,246,0.5)}
100%{box-shadow:0 0 0 8px rgba(59,130,246,0)}}
.frame-pixel{border:4px dashed #fff;box-shadow:0 0 0 4px #000;border-radius:0 !important}
.frame-dragon{border:3px solid #166534;border-top-color:#4ade80;border-bottom-color:#14532d;animation:spinSlow 5s linear infinite}
.frame-rgb{border:3px solid transparent;background:linear-gradient(#000,#000)padding-box,linear-gradient(to right,red,orange,yellow,green,blue,indigo,violet)border-box;animation:rgbSpin 2s linear infinite}
@keyframes rgbSpin{100%{filter:hue-rotate(360deg)}}
.password-wrapper{position:relative;width:100%}
.password-toggle-btn{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:var(--text-muted);cursor:pointer;padding:5px;z-index:10;transition:color 0.3s}
.password-toggle-btn:hover{color:var(--accent-color)}
.input-glass.has-icon{padding-left:2.5rem !important}
@keyframes skeleton-pulse{0%{background-color:rgba(255,255,255,0.05)}
50%{background-color:rgba(255,255,255,0.15)}
100%{background-color:rgba(255,255,255,0.05)}}
.skeleton{background:rgba(255,255,255,0.05);border-radius:8px;animation:skeleton-pulse 1.5s infinite ease-in-out;pointer-events:none}
.skeleton-row{height:60px;width:100%;margin-bottom:10px;border-radius:12px}
.skeleton-question{height:120px;width:100%;margin-bottom:20px;border-radius:1.5rem}
.skeleton-option{height:55px;width:100%;margin-bottom:12px;border-radius:0.75rem}
.skeleton{background:#1e293b;background:linear-gradient(90deg,#1e293b 25%,#334155 50%,#1e293b 75%);background-size:200% 100%;animation:shimmer 1.5s infinite;border-radius:8px;opacity:0.7}
@keyframes shimmer{0%{background-position:200% 0}
100%{background-position:-200% 0}}
.sk-row{display:flex;align-items:center;gap:1rem;padding:1rem;margin-bottom:0.75rem;border:1px solid rgba(255,255,255,0.05);border-radius:12px}
.sk-circle{width:40px;height:40px;border-radius:50%}
.sk-line{height:12px;border-radius:6px}
.sk-line.short{width:30%}
.sk-line.long{width:70%}
.sk-line.tiny{width:40px}
.sk-card{height:120px;width:100%;margin-bottom:2rem;border-radius:1.5rem}
.sk-btn{height:50px;width:100%;margin-bottom:0.75rem;border-radius:0.75rem}
#low-health-vignette{background:radial-gradient(circle,transparent 40%,rgba(220,38,38,0.8)100%);box-shadow:inset 0 0 50px rgba(220,38,38,0.5);pointer-events:none}
.animate-danger-pulse{animation:dangerPulse 1.5s infinite ease-in-out}
@keyframes dangerPulse{0%,100%{opacity:0.2}
50%{opacity:0.9}}
.touch-ripple{position:absolute;width:20px;height:20px;background:radial-gradient(circle,rgba(251,191,36,0.8)0%,rgba(251,191,36,0)70%);border-radius:50%;transform:translate(-50%,-50%)scale(1);animation:rippleEffect 0.5s ease-out forwards;pointer-events:none;z-index:9999;box-shadow:0 0 10px rgba(251,191,36,0.5)}
@keyframes rippleEffect{0%{transform:translate(-50%,-50%)scale(1);opacity:1}
100%{transform:translate(-50%,-50%)scale(6);opacity:0}}
.float-feedback{position:fixed;font-family:'Amiri',serif;font-weight:700;font-size:1.8rem;pointer-events:none;z-index:10000;animation:floatUpFade 1.2s cubic-bezier(0.2,1,0.3,1)forwards;text-shadow:0 2px 4px rgba(0,0,0,0.5);direction:ltr}
@keyframes floatUpFade{0%{transform:translateY(0)scale(0.5);opacity:0}
20%{transform:translateY(-30px)scale(1.3);opacity:1}
100%{transform:translateY(-80px)scale(1);opacity:0}}
.badge-icon-box{width:60px !important;height:60px !important;min-width:60px !important;background:transparent !important;border:3px solid rgba(255,255,255,0.1)!important;border-radius:50% !important;display:flex !important;align-items:center;justify-content:center;margin-left:15px !important;overflow:hidden !important;position:relative;padding:0 !important;box-shadow:0 4px 10px rgba(0,0,0,0.3)}
.badge-icon-box img{width:100%;height:100%;object-fit:cover;display:block;transition:transform 0.3s ease}
.badge-card:hover .badge-icon-box img{transform:scale(1.1)}
.badge-card .badge-icon-box.text-red-500{border-color:#cd7f32 !important;box-shadow:0 0 10px rgba(205,127,50,0.3)}
.badge-card .badge-icon-box.text-slate-100{border-color:#c0c0c0 !important;box-shadow:0 0 15px rgba(192,192,192,0.4)}
.badge-card .badge-icon-box.text-amber-400{border-color:#ffd700 !important;box-shadow:0 0 20px rgba(255,215,0,0.5)}
.badge-card .badge-icon-box.text-cyan-400{border-color:#22d3ee !important;box-shadow:0 0 20px rgba(34,211,238,0.6)}
.badge-card .badge-icon-box.text-red-600{border-color:#ef4444 !important;box-shadow:0 0 25px rgba(239,68,68,0.7)}
.badge-card.locked .badge-icon-box img{filter:grayscale(1)brightness(0.7);opacity:0.6}
.badge-card.locked .badge-icon-box{border-color:rgba(255,255,255,0.05)!important}
.reward-icon-large{display:block !important;width:120px;height:120px;margin:0 auto 1rem auto;border-radius:50%;border:4px solid #ffd700;box-shadow:0 0 30px rgba(255,215,0,0.5);object-fit:cover;background:#000}
#question-text,#enrichment-content{
  user-select:none !important;
  -webkit-user-select:none !important;
  -webkit-touch-callout:none !important;
  cursor:default;
}
::selection{background:rgba(6,182,212,0.3);color:white}
input[list]::-webkit-calendar-picker-indicator{display:block !important;opacity:1 !important;height:20px;width:20px;cursor:pointer;background-color:transparent;filter:invert(1);transition:transform 0.2s;margin-left:-10px}
input[list]:hover::-webkit-calendar-picker-indicator{transform:scale(1.2)}
#font-size-preview{font-family:'Amiri',serif;font-size:calc(var(--base-size)* 1.3);line-height:1;white-space:nowrap}
.dual-gold-btn{display:flex;width:100%;background:linear-gradient(135deg,#fbbf24 0%,#b45309 100%);border:1px solid rgba(255,255,255,0.4);border-bottom:5px solid #78350f;border-radius:1rem;box-shadow:0 4px 15px rgba(251,191,36,0.4);overflow:hidden;height:56px}
.btn-side{flex:1;background:transparent;border:none;color:#ffffff !important;font-family:var(--font-heading);font-weight:700;display:flex;align-items:center;justify-content:center;gap:0.5rem;cursor:pointer;transition:transform 0.1s}
.btn-side:active{transform:translateY(2px);background:rgba(0,0,0,0.05)}
.divider-v{width:1px;background:rgba(255,255,255,0.3);margin:12px 0}
.options-grid-mode{display:grid !important;grid-template-columns:repeat(2,1fr)!important;gap:0.75rem !important;width:100% !important}
.options-grid-mode>*{margin-top:0 !important;margin-bottom:0 !important}
.options-truefalse-mode{
  display:grid !important;
  grid-template-columns:repeat(2,1fr)!important;
  gap:0.85rem !important;
  width:100% !important;
}
.options-truefalse-mode>*{margin-top:0 !important;margin-bottom:0 !important}
.tf-option-btn{
  min-height:170px !important;
  height:170px !important;
  justify-content:center !important;
  text-align:center !important;
  padding:1.25rem !important;
  border-radius:1.25rem !important;
  backdrop-filter:blur(10px);
  -webkit-backdrop-filter:blur(10px);
}
.tf-option-btn .tf-option-icon{
  filter:drop-shadow(0 8px 18px rgba(0,0,0,0.35));
}
.tf-option-btn.tf-true{
  border-color:rgba(16,185,129,0.35)!important;
  background:linear-gradient(165deg, rgba(6,95,70,0.55) 0%, rgba(2,6,23,0.55) 70%) !important;
}
.tf-option-btn.tf-true:hover{
  border-color:rgba(16,185,129,0.7)!important;
  background:linear-gradient(165deg, rgba(6,95,70,0.72) 0%, rgba(2,6,23,0.62) 70%) !important;
}
.tf-option-btn.tf-false{
  border-color:rgba(244,63,94,0.35)!important;
  background:linear-gradient(165deg, rgba(159,18,57,0.45) 0%, rgba(2,6,23,0.55) 70%) !important;
}
.tf-option-btn.tf-false:hover{
  border-color:rgba(244,63,94,0.75)!important;
  background:linear-gradient(165deg, rgba(159,18,57,0.62) 0%, rgba(2,6,23,0.62) 70%) !important;
}
.tf-option-btn.btn-correct{
  background:var(--correct-bg)!important;
  border-color:rgba(52,211,153,0.85)!important;
}
.tf-option-btn.btn-incorrect{
  background:var(--wrong-bg)!important;
  border-color:rgba(248,113,113,0.85)!important;
}
#score-card.result-win{
  border-color:rgba(16,185,129,0.35)!important;
  box-shadow:0 22px 70px rgba(16,185,129,0.10), 0 22px 70px rgba(0,0,0,0.55) !important;
}
#score-card.result-loss{
  border-color:rgba(239,68,68,0.35)!important;
  box-shadow:0 22px 70px rgba(239,68,68,0.12), 0 22px 70px rgba(0,0,0,0.55) !important;
}
#login-area{width:100%}
.auth-shell{
  position:relative;
  width:100%;
  max-width:460px;
  margin:0 auto;
}
.auth-ambient{
  position:absolute;
  inset:-40px;
  pointer-events:none;
  z-index:0;
  overflow:hidden;
  filter:saturate(1.1);
}
.auth-blob{
  position:absolute;
  width:420px;
  height:420px;
  border-radius:9999px;
  opacity:0.35;
  filter:blur(28px);
  animation:authFloat 10s ease-in-out infinite;
}
.auth-blob.blob-1{
  top:-120px;
  right:-160px;
  background:radial-gradient(circle at 30% 30%, rgba(251,191,36,0.95), rgba(180,83,9,0.15) 55%, transparent 70%);
}
.auth-blob.blob-2{
  bottom:-160px;
  left:-180px;
  animation-duration:12s;
  background:radial-gradient(circle at 35% 35%, rgba(34,211,238,0.65), rgba(59,130,246,0.12) 55%, transparent 70%);
}
.auth-ambient::after{
  content:"";
  position:absolute;
  inset:0;
  opacity:0.10;
  background-image:
    radial-gradient(rgba(255,255,255,0.22) 1px, transparent 1px);
  background-size:18px 18px;
  mask-image:radial-gradient(circle at 50% 40%, #000 0%, transparent 62%);
}
@keyframes authFloat{
  0%,100%{transform:translate3d(0,0,0) scale(1)}
  50%{transform:translate3d(16px,22px,0) scale(1.03)}
}
.auth-card{
  position:relative;
  z-index:1;
  padding:26px 22px;
  border-radius:28px;
  background:linear-gradient(165deg, rgba(2,6,23,0.86) 0%, rgba(15,23,42,0.72) 100%);
  border:1px solid rgba(255,255,255,0.10);
  box-shadow:0 24px 60px rgba(0,0,0,0.55);
  backdrop-filter:blur(16px);
  -webkit-backdrop-filter:blur(16px);
  overflow:hidden;
}
.auth-card::before{
  content:"";
  position:absolute;
  inset:0;
  padding:1px;
  border-radius:28px;
  background:linear-gradient(135deg, rgba(251,191,36,0.55), rgba(34,211,238,0.28), rgba(251,191,36,0.20));
  -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor;
  mask-composite:exclude;
  pointer-events:none;
}
.auth-header{
  text-align:center;
  margin-bottom:18px;
}
.auth-logo{
  width:86px;
  height:86px;
  margin:0 auto 10px auto;
  object-fit:contain;
  filter:drop-shadow(0 14px 22px rgba(0,0,0,0.55));
}
.auth-title{
  font-family:var(--font-heading);
  font-weight:800;
  letter-spacing:0.2px;
  color:#f8fafc;
  text-shadow:0 10px 22px rgba(0,0,0,0.35);
}
.auth-subtitle{
  color:rgba(148,163,184,0.9);
  font-size:0.95rem;
  margin-top:6px;
}
.auth-btn-social{
  width:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  padding:0.85rem 1rem;
  border-radius:16px;
  background:rgba(255,255,255,0.06);
  border:1px solid rgba(255,255,255,0.12);
  color:#f8fafc;
  font-weight:800;
  font-family:var(--font-heading);
  box-shadow:0 12px 30px rgba(0,0,0,0.35);
  transition:transform 0.15s ease-out, filter 0.2s ease, background 0.2s ease, border-color 0.2s ease;
}
.auth-btn-social:hover{
  transform:translateY(-2px);
  background:rgba(255,255,255,0.09);
  border-color:rgba(251,191,36,0.35);
  filter:brightness(1.05);
}
.auth-btn-social:active{transform:translateY(0) scale(0.99)}
.auth-social-row{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
  margin-top:2px;
}
.auth-social-row .auth-btn-social,
.auth-social-row .auth-btn-guest{
  width:100%;
  margin-top:0;
  padding:0.78rem 0.85rem;
  text-align:center;
  line-height:1.15;
}
.auth-social-row .auth-btn-social span,
.auth-social-row .auth-btn-guest span:last-child{
  font-size:0.92rem;
}
.auth-btn-guest{
  width:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  padding:0.78rem 1rem;
  border-radius:16px;
  margin-top:10px;
  background:rgba(2,6,23,0.40);
  border:1px solid rgba(255,255,255,0.10);
  color:rgba(226,232,240,0.92);
  font-weight:800;
  font-family:var(--font-heading);
  transition:transform 0.15s ease-out, background 0.2s ease, border-color 0.2s ease;
}
.auth-btn-guest:hover{
  transform:translateY(-1px);
  background:rgba(2,6,23,0.55);
  border-color:rgba(34,211,238,0.22);
}
.auth-btn-guest:active{transform:translateY(0) scale(0.99)}
.auth-hint{
  margin-top:8px;
  text-align:center;
  color:rgba(148,163,184,0.9);
  font-size:0.82rem;
}
.google-mark{
  width:20px;
  height:20px;
  flex:0 0 20px;
  filter:drop-shadow(0 3px 8px rgba(0,0,0,0.35));
}
.auth-divider{
  position:relative;
  text-align:center;
  margin:16px 0 14px 0;
  color:rgba(148,163,184,0.9);
  font-weight:700;
  font-size:0.9rem;
}
.auth-divider::before{
  content:"";
  position:absolute;
  left:0;
  right:0;
  top:50%;
  height:1px;
  background:linear-gradient(to right, transparent, rgba(255,255,255,0.12), transparent);
}
.auth-divider span{
  position:relative;
  display:inline-block;
  padding:0 14px;
  background:linear-gradient(165deg, rgba(2,6,23,0.86) 0%, rgba(15,23,42,0.72) 100%);
}
.auth-form{margin-top:8px}
.auth-field{position:relative;width:100%}
.auth-field-icon{
  position:absolute;
  right:16px;
  top:50%;
  transform:translateY(-50%);
  font-size:22px;
  color:rgba(148,163,184,0.9);
  pointer-events:none;
}
.input-glass.has-icon{padding-right:3.1rem !important;padding-left:1.2rem !important}
.auth-field input[dir="ltr"].has-icon{padding-left:1.2rem !important;padding-right:3.1rem !important}
.auth-actions{margin-top:10px}
#auth-switcher .bg-slate-900\/40{background:rgba(2,6,23,0.48) !important}
.options-grid-mode .option-btn{height:135px !important;min-height:135px !important;max-height:135px !important;width:100% !important;flex-direction:column !important;justify-content:center !important;align-items:center !important;text-align:center !important;padding:8px !important;line-height:1.35 !important;white-space:normal !important}.options-grid-mode .option-char{width:2rem !important;height:2rem !important;margin-bottom:0.5rem !important;font-size:0.875rem !important}
.options-grid-mode .option-text{font-size:0.875rem !important}
.options-grid-mode .option-number{margin-bottom:8px !important;margin-right:0 !important}
.options-grid-mode .option-char{width:2rem !important;height:2rem !important;margin-bottom:0.5rem !important;margin-right:0 !important;font-size:0.875rem !important}
.options-grid-mode .option-text{font-size:0.95rem !important;line-height:1.35 !important;text-align:center !important;flex:0 0 auto !important}
@keyframes popInGrid{0%{opacity:0;transform:scale(0.8)translateY(10px)}
100%{opacity:1;transform:scale(1)translateY(0)}}
.grid-pop{animation:popInGrid 0.3s cubic-bezier(0.175,0.885,0.32,1.275)forwards;opacity:0}
.grid-pop-delay-0{animation-delay:0s}
.grid-pop-delay-1{animation-delay:0.1s}
.grid-pop-delay-2{animation-delay:0.2s}
.grid-pop-delay-3{animation-delay:0.3s}
.grid-pop-delay-4{animation-delay:0.4s}
.grid-pop-delay-5{animation-delay:0.5s}
.grid-pop-delay-6{animation-delay:0.6s}
.grid-pop-delay-7{animation-delay:0.7s}
.grid-pop-delay-8{animation-delay:0.8s}
.grid-pop-delay-9{animation-delay:0.9s}
#offline-banner.show-offline{display:flex !important;align-items:center !important;justify-content:center !important;transform:translateY(0)!important}
#bottom-nav{position:fixed;bottom:0px;left:50%;transform:translateX(-50%);width:95%;max-width:500px;z-index:30;pointer-events:none}
.nav-glass-body{pointer-events:auto;background:var(--bg-card-gradient);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid var(--border-color);border-bottom:4px solid rgba(0,0,0,0.5);border-radius:2rem;box-shadow:0 10px 30px var(--card-3d-shadow-spread);height:70px;display:flex;justify-content:space-between;align-items:center;padding:0 10px;position:relative;overflow:visible}
.nav-floating-btn-container{position:absolute;top:-10px;left:50%;transform:translateX(-50%);width:75px;height:75px;background:var(--bg-body);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 -5px 15px rgba(0,0,0,0.3);z-index:10;border:1px solid transparent}
.nav-floating-btn{width:60px;height:60px;border-radius:80%;background:#0f172a;border:none;display:flex;align-items:center;justify-content:center;color:var(--text-muted);box-shadow:0 5px 15px rgba(0,0,0,0.3);cursor:pointer;transition:transform 0.3s cubic-bezier(0.34,1.56,0.64,1);position:relative;overflow:visible !important;z-index:20}
.nav-floating-btn .avatar-wrapper{width:100%;height:100%}
.nav-floating-btn .avatar-frame-overlay{box-shadow:none !important}
.nav-floating-btn .frame-neon,.nav-floating-btn .frame-fire,.nav-floating-btn .frame-sun{box-shadow:0 0 10px currentColor !important}
.nav-floating-btn:active{transform:scale(0.9)}
.nav-floating-btn img{width:100%;height:100%;object-fit:cover}
.nav-item-btn{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--text-muted);transition:all 0.3s ease;cursor:pointer;background:transparent;border:none;position:relative}
.nav-item-btn:hover,.nav-item-btn.active{color:var(--accent-color);transform:translateY(-2px)}
.nav-item-btn .material-symbols-rounded{font-size:28px;margin-bottom:2px;transition:text-shadow 0.3s}
.nav-item-btn.active .material-symbols-rounded{font-variation-settings:'FILL' 1;filter:drop-shadow(0 0 8px var(--accent-color))}
.nav-item-btn span.label{font-size:10px;font-weight:bold;font-family:var(--font-heading);opacity:0.7}
.nav-item-btn.active span.label{opacity:1}
.nav-spacer{width:70px}
.nav-badge{position:absolute;top:10px;right:25%;width:10px;height:10px;background:#ef4444;border:2px solid var(--bg-side-menu);border-radius:50%;animation:pulse-red 2s infinite}
@keyframes silver-fire-glow{0%{box-shadow:0 4px 15px rgba(161,161,170,0.4);border-color:rgba(255,255,255,0.5)}
50%{box-shadow:0 0 20px rgba(251,191,36,0.6),inset 0 0 10px rgba(251,191,36,0.2);border-color:#fbbf24}
100%{box-shadow:0 4px 15px rgba(161,161,170,0.4);border-color:rgba(255,255,255,0.5)}}
.btn-marathon-silver-anim{animation:silver-fire-glow 3s infinite ease-in-out !important}
.btn-marathon-silver span.material-symbols-rounded{color:#f59e0b;filter:drop-shadow(0 0 2px rgba(0,0,0,0.5))}
.avatar-wrapper{position:relative;display:inline-block;border-radius:50%;z-index:1;transform:translateZ(0)}
.avatar-frame-overlay{position:absolute;inset:-3px;border-radius:50%;pointer-events:none;z-index:2}
.frame-neon{border:2px solid #d946ef;box-shadow:0 0 5px #d946ef,0 0 10px #8b5cf6;animation:neonPulse 1.5s infinite alternate}
@keyframes neonPulse{from{box-shadow:0 0 5px #d946ef,0 0 10px #8b5cf6}
to{box-shadow:0 0 10px #d946ef,0 0 20px #8b5cf6}}
.frame-sun{border:2px solid #fbbf24;box-shadow:0 0 10px #f59e0b,0 0 20px #fbbf24,inset 0 0 10px #f59e0b;background:radial-gradient(circle at center,transparent 60%,rgba(251,191,36,0.2)100%);animation:sunPulse 2s infinite alternate}
@keyframes sunPulse{0%{box-shadow:0 0 10px #f59e0b,0 0 20px #fbbf24}
100%{box-shadow:0 0 20px #f59e0b,0 0 40px #d97706;border-color:#fff}}
.frame-eagle{border:3px double #92400e;border-top-color:#f59e0b;border-bottom-color:#f59e0b;box-shadow:0 0 0 2px #451a03,0 0 10px #b45309;border-radius:40% 40% 50% 50%}
.frame-star{border:2px dashed #eab308;box-shadow:0 0 5px #ca8a04;animation:spinSlow 10s linear infinite}
.frame-star::after{content:'';position:absolute;inset:-4px;border-radius:50%;border:1px dotted #fff;animation:spinReverse 5s linear infinite}
.frame-tech{border:2px solid #06b6d4;border-left:2px solid transparent;border-right:2px solid transparent;box-shadow:0 0 5px #06b6d4;animation:spinTech 2s linear infinite}
.frame-tech::before{content:'';position:absolute;inset:2px;border:1px solid #0891b2;border-top:transparent;border-bottom:transparent;border-radius:50%;animation:spinReverse 1s linear infinite}
.frame-energy{box-shadow:0 0 0 2px #3b82f6,0 0 15px #2563eb,inset 0 0 10px #60a5fa;animation:electricPulse 0.2s infinite}
@keyframes electricPulse{0%{opacity:1}
50%{opacity:0.8}
100%{opacity:1}}
.frame-ruby{border:3px solid #9f1239;box-shadow:0 0 5px #e11d48,inset 0 0 10px #881337}
.frame-nature{border:3px solid #22c55e;box-shadow:inset 0 0 10px #15803d;border-style:double}
.frame-hex{border:2px solid #e2e8f0;outline:2px dashed #64748b;outline-offset:2px}
.frame-ghost{border:1px solid rgba(255,255,255,0.3);box-shadow:0 0 15px rgba(255,255,255,0.5);animation:ghostFloat 3s ease-in-out infinite}
@keyframes ghostFloat{0%,100%{box-shadow:0 0 15px rgba(255,255,255,0.5);transform:scale(1)}
50%{box-shadow:0 0 25px rgba(255,255,255,0.8);transform:scale(1.02)}}
.frame-galaxy-fixed{border:2px solid rgba(167,139,250,0.35);box-shadow:0 0 12px rgba(168,85,247,0.35),inset 0 0 0 1px rgba(255,255,255,0.06);border-radius:50%;background:transparent}
.frame-galaxy-fixed::before{content:'';position:absolute;inset:0;border-radius:50%;background:conic-gradient(from 180deg,#22d3ee,#60a5fa,#a855f7,#ec4899,#22d3ee);animation:spinRGB 6s linear infinite;-webkit-mask:radial-gradient(closest-side,transparent 85%,black 86%);mask:radial-gradient(closest-side,transparent 85%,black 86%);pointer-events:none}
.frame-galaxy-fixed::after{content:'';position:absolute;inset:-7px;border-radius:50%;background:conic-gradient(from 0deg,rgba(34,211,238,0.35),rgba(96,165,250,0.35),rgba(168,85,247,0.35),rgba(236,72,153,0.35),rgba(34,211,238,0.35));animation:spinReverse 18s linear infinite;-webkit-mask:radial-gradient(closest-side,transparent 88%,black 89%);mask:radial-gradient(closest-side,transparent 88%,black 89%);filter:blur(10px);opacity:0.55;pointer-events:none}
.frame-rgb-fixed{position:absolute;inset:-3px;border-radius:50%;background:conic-gradient(red,yellow,lime,aqua,blue,magenta,red);animation:spinRGB 1.5s linear infinite;-webkit-mask:radial-gradient(closest-side,transparent 85%,black 86%);mask:radial-gradient(closest-side,transparent 85%,black 86%)}
@keyframes spinRGB{to{transform:rotate(360deg)}}
.frame-dark-matter-fixed{box-shadow:0 0 15px #000,0 0 30px #4c1d95,inset 0 0 20px #000;border:2px solid rgba(0,0,0,0.8);animation:darkMatterPulse 3s infinite alternate}
.frame-dark-matter-fixed::after{content:'';position:absolute;inset:-5px;border-radius:50%;border:2px dashed #8b5cf6;animation:spinReverse 10s linear infinite;opacity:0.5}
@keyframes darkMatterPulse{0%{box-shadow:0 0 15px #000,0 0 10px #4c1d95}
100%{box-shadow:0 0 25px #000,0 0 40px #8b5cf6}}
.frame-nur{box-shadow:0 0 15px #fff,0 0 30px #fbbf24,inset 0 0 10px #fbbf24;border:2px solid #fff;animation:nurGlow 2s infinite ease-in-out}
@keyframes nurGlow{0%,100%{opacity:0.8}
50%{opacity:1;box-shadow:0 0 25px #fff,0 0 50px #fbbf24}}
.frame-angelic{border:3px double #e2e8f0;box-shadow:0 0 20px rgba(255,255,255,0.6)}
.frame-angelic::before{content:'';position:absolute;top:-10px;left:50%;transform:translateX(-50%);width:120%;height:20px;background:radial-gradient(ellipse at center,rgba(255,255,255,0.8)0%,transparent 70%);border-radius:50%;animation:floatHalo 3s infinite ease-in-out}
@keyframes floatHalo{0%,100%{transform:translateX(-50%)translateY(0)}
50%{transform:translateX(-50%)translateY(-5px)}}
.frame-crescent{border-radius:50%;box-shadow:-4px -4px 0 2px #fbbf24;transform:rotate(-45deg);border:1px solid transparent}
.frame-kufic{border:4px solid #1e293b;outline:2px dashed #d97706;outline-offset:-2px;background-image:repeating-linear-gradient(45deg,#d97706 0,#d97706 2px,transparent 0,transparent 10px);-webkit-mask:radial-gradient(closest-side,transparent 85%,black 86%);mask:radial-gradient(closest-side,transparent 85%,black 86%)}
.frame-heaven{border:2px solid rgba(255,255,255,0.7);box-shadow:0 0 10px rgba(56,189,248,0.35),0 0 26px rgba(255,255,255,0.12);border-radius:50%;background:transparent}
.frame-heaven::before{content:'';position:absolute;inset:0;border-radius:50%;background:conic-gradient(from 180deg,#ffffff,rgba(56,189,248,0.85),#ffffff);animation:spinRGB 10s linear infinite;-webkit-mask:radial-gradient(closest-side,transparent 85%,black 86%);mask:radial-gradient(closest-side,transparent 85%,black 86%);pointer-events:none}
.frame-heaven::after{content:'';position:absolute;inset:-10px;border-radius:50%;background:radial-gradient(circle,rgba(255,255,255,0.35)0%,rgba(56,189,248,0.18)40%,transparent 70%);-webkit-mask:radial-gradient(closest-side,transparent 72%,black 90%);mask:radial-gradient(closest-side,transparent 72%,black 90%);filter:blur(8px);opacity:0.75;pointer-events:none}
.frame-blizzard{border:2px solid rgba(186,230,253,0.55);box-shadow:0 0 12px rgba(14,165,233,0.35),inset 0 0 0 1px rgba(255,255,255,0.06);border-radius:50%;background:conic-gradient(from 180deg,#ffffff,#bae6fd,#0ea5e9,#38bdf8,#ffffff);-webkit-mask:radial-gradient(closest-side,transparent 85%,black 86%);mask:radial-gradient(closest-side,transparent 85%,black 86%);animation:spinSlow 14s linear infinite}
.frame-blizzard::before{content:'';position:absolute;inset:0;border-radius:50%;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><circle cx="2" cy="3" r="0.8" fill="white"/><circle cx="7" cy="6" r="0.7" fill="white"/><circle cx="5" cy="9" r="0.6" fill="white"/></svg>')repeat;opacity:0.55;-webkit-mask:radial-gradient(closest-side,transparent 85%,black 86%);mask:radial-gradient(closest-side,transparent 85%,black 86%);animation:snowSpin 12s linear infinite;pointer-events:none}
.frame-blizzard::after{content:'';position:absolute;inset:-8px;border-radius:50%;background:conic-gradient(from 0deg,rgba(255,255,255,0.22),rgba(186,230,253,0.32),rgba(14,165,233,0.22),rgba(255,255,255,0.22));-webkit-mask:radial-gradient(closest-side,transparent 88%,black 89%);mask:radial-gradient(closest-side,transparent 88%,black 89%);filter:blur(10px);opacity:0.55;animation:spinReverse 22s linear infinite;pointer-events:none}
@keyframes snowSpin{from{transform:rotate(0deg)}
to{transform:rotate(360deg)}}
.frame-thunder{border:2px solid #facc15;box-shadow:0 0 5px #facc15;animation:thunderFlash 3s infinite}
@keyframes thunderFlash{0%,90%,100%{box-shadow:0 0 5px #facc15;border-color:#facc15}
92%,96%{box-shadow:0 0 30px #fff,0 0 50px #facc15;border-color:#fff}}
.frame-ocean{border:3px solid #1e40af;box-shadow:inset 0 0 15px #60a5fa,0 0 10px #1e3a8a;background:radial-gradient(circle at 30% 30%,rgba(255,255,255,0.1),transparent)}
.frame-sand{border:3px dotted #d97706;animation:spinReverse 20s linear infinite;box-shadow:0 0 10px #b45309}
.frame-emerald{border:3px solid #10b981;box-shadow:0 0 10px #059669 inset;animation:liquidBorder 2s infinite ease-in-out;border-radius:40% 60% 70% 30% / 40% 50% 60% 50%}
@keyframes liquidBorder{0%{border-radius:40% 60% 70% 30% / 40% 50% 60% 50%}
50%{border-radius:60% 40% 30% 70% / 60% 30% 70% 40%}
100%{border-radius:40% 60% 70% 30% / 40% 50% 60% 50%}}
.frame-glitch{border:2px solid #ef4444;box-shadow:-2px 0 #22d3ee;animation:glitchAnim 1s infinite steps(2)}
@keyframes glitchAnim{0%{clip-path:inset(0 0 0 0);transform:translate(0)}
20%{clip-path:inset(20% 0 80% 0);transform:translate(-2px,2px)}
40%{clip-path:inset(80% 0 10% 0);transform:translate(2px,-2px)}
60%{clip-path:inset(10% 0 60% 0);transform:translate(-2px,0)}
80%{clip-path:inset(50% 0 30% 0);transform:translate(2px,2px)}
100%{clip-path:inset(0 0 0 0);transform:translate(0)}}
.frame-scanner{border:2px solid rgba(16,185,129,0.85);box-shadow:0 0 10px rgba(16,185,129,0.25),inset 0 0 0 1px rgba(255,255,255,0.06);border-radius:50%;overflow:hidden;background:radial-gradient(circle at 30% 30%,rgba(16,185,129,0.08),transparent 55%)}
.frame-scanner::before{content:'';position:absolute;inset:0;border-radius:50%;background:conic-gradient(from 180deg,#34d399,#10b981,#059669,#34d399);animation:spinRGB 7s linear infinite,liquidBorder 3s infinite ease-in-out;-webkit-mask:radial-gradient(closest-side,transparent 85%,black 86%);mask:radial-gradient(closest-side,transparent 85%,black 86%);opacity:0.95;pointer-events:none}
.frame-scanner::after{content:'';position:absolute;top:0;left:0;width:100%;height:20px;background:linear-gradient(to bottom,rgba(255,255,255,0),rgba(255,255,255,0.55),rgba(255,255,255,0));box-shadow:0 0 18px rgba(16,185,129,0.25),0 0 18px rgba(255,255,255,0.25);animation:scanMove 2s linear infinite;pointer-events:none}
@keyframes scanMove{0%{top:0;opacity:1}
100%{top:100%;opacity:0}}
.frame-hud{border:1px solid rgba(14,165,233,0.5);box-shadow:0 0 5px #0ea5e9}
.frame-hud::before{content:'';position:absolute;inset:-5px;border:2px dashed #0ea5e9;border-radius:50%;animation:spinSlow 10s linear infinite}
.frame-hud::after{content:'';position:absolute;inset:2px;border:1px solid #0ea5e9;border-left:transparent;border-right:transparent;border-radius:50%;animation:spinReverse 4s linear infinite}
.frame-amethyst{border:3px solid #7c3aed;box-shadow:0 0 10px #a78bfa,inset 0 0 10px #5b21b6;border-top-color:#ddd6fe}
.frame-sapphire{border:2px solid #1e3a8a;box-shadow:0 0 0 2px #1d4ed8,0 0 15px #3b82f6}
.frame-pearl{border:2px solid transparent;border-radius:50%;background:conic-gradient(from 180deg,rgba(255,255,255,0.95),rgba(186,230,253,0.85),rgba(216,180,254,0.75),rgba(254,205,211,0.70),rgba(255,255,255,0.95)) border-box;-webkit-mask:radial-gradient(closest-side,transparent 84%,#000 85%);mask:radial-gradient(closest-side,transparent 84%,#000 85%);box-shadow:0 0 10px rgba(226,232,240,0.42),0 0 22px rgba(186,230,253,0.22);outline:2px solid rgba(255,255,255,0.28);outline-offset:3px;opacity:0.96;animation:spinSlow 2s linear infinite}
.frame-phoenix{border:2px solid #f97316;box-shadow:0 0 15px #c2410c,0 0 30px #f97316;animation:phoenixRise 2s infinite alternate}
@keyframes phoenixRise{from{box-shadow:0 0 10px #c2410c;transform:scale(1)}
to{box-shadow:0 0 25px #f97316,0 0 40px #fbbf24;transform:scale(1.02)}}
.frame-dragon-breath{border:3px solid #15803d;box-shadow:0 0 10px #22c55e,inset 0 0 20px #b91c1c;animation:breathe 3s infinite ease-in-out}
@keyframes breathe{0%,100%{box-shadow:0 0 10px #22c55e,inset 0 0 20px #b91c1c}
50%{box-shadow:0 0 25px #4ade80,inset 0 0 30px #ef4444}}
.frame-infinity{background:linear-gradient(45deg,#ff00cc,#3333ff,#ff00cc);background-size:400% 400%;animation:infinityGradient 3s ease infinite;-webkit-mask:radial-gradient(closest-side,transparent 88%,black 89%);mask:radial-gradient(closest-side,transparent 88%,black 89%)}
@keyframes infinityGradient{0%{background-position:0% 50%}
50%{background-position:100% 50%}
100%{background-position:0% 50%}}
.frame-mystic{border:1px solid rgba(139,92,246,0.5);box-shadow:0 0 0 4px rgba(139,92,246,0.2),0 0 20px rgba(167,139,250,0.4);animation:mysticPulse 4s infinite ease-in-out}
@keyframes mysticPulse{0%{box-shadow:0 0 0 2px rgba(139,92,246,0.2),0 0 10px rgba(167,139,250,0.2)}
50%{box-shadow:0 0 0 6px rgba(139,92,246,0.4),0 0 30px rgba(167,139,250,0.6)}
100%{box-shadow:0 0 0 2px rgba(139,92,246,0.2),0 0 10px rgba(167,139,250,0.2)}}
.frame-time{border:2px dashed #a855f7;animation:spinTech 10s linear infinite;box-shadow:inset 0 0 20px #581c87}
@keyframes spinSlow{100%{transform:rotate(360deg)}}
@keyframes spinReverse{100%{transform:rotate(-360deg)}}
@keyframes spinTech{0%{transform:rotate(0deg);border-color:#06b6d4 transparent #06b6d4 transparent}
50%{border-color:transparent #06b6d4 transparent #06b6d4}
100%{transform:rotate(360deg);border-color:#06b6d4 transparent #06b6d4 transparent}}
.status-badge{display:block;width:10px;height:10px;border-radius:50%;border:1px solid var(--bg-card);position:absolute;top:5px;right:5px;z-index:10}
.status-badge.online{background:#10b981;box-shadow:0 0 0 2px #10b981,0 0 8px #10b981;animation:pulse-green 2s infinite}
@keyframes pulse-green{0%{transform:scale(0.9);opacity:0.7}
50%{transform:scale(1.1);opacity:1}
100%{transform:scale(0.9);opacity:0.7}}
.status-badge.offline{background:#64748b;box-shadow:none}
.status-dot-inline{width:8px;height:8px;border-radius:50%;display:inline-block;flex-shrink:0}
.status-dot-inline.online{background-color:#10b981;box-shadow:0 0 8px rgba(16,185,129,0.6);animation:pulse-green-text 2s infinite}
.status-dot-inline.offline{background-color:#64748b;opacity:0.5}
@keyframes pulse-green-text{0%{transform:scale(0.95);opacity:0.8}
50%{transform:scale(1.1);opacity:1}
100%{transform:scale(0.95);opacity:0.8}}
.quest-container{margin-top:15px;width:100%;display:flex;justify-content:center}
.quest-floating-btn{background:linear-gradient(135deg,#1e293b,#0f172a);border:2px solid #fbbf24;color:#fff;padding:10px 20px;border-radius:50px;display:flex;align-items:center;gap:10px;font-family:'Amiri',serif;font-size:16px;font-weight:bold;cursor:pointer;box-shadow:0 4px 15px rgba(251,191,36,0.3);transition:all 0.3s ease;position:relative;overflow:visible}
.quest-floating-btn:hover{transform:translateY(-3px);box-shadow:0 6px 20px rgba(251,191,36,0.5);background:linear-gradient(135deg,#334155,#1e293b)}
.quest-floating-btn:active{transform:scale(0.95)}
.quest-icon{font-size:24px;color:#fbbf24}
.quest-badge{position:absolute;top:-5px;right:-5px;background-color:#ef4444;color:white;width:20px;height:20px;border-radius:50%;font-size:12px;display:flex;justify-content:center;align-items:center;border:2px solid #0f172a;animation:questPulse 2s infinite}
@keyframes questPulse{0%{transform:scale(1)}
50%{transform:scale(1.2)}
100%{transform:scale(1)}}
.quest-hidden{display:none !important}
.quest-modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.85);backdrop-filter:blur(5px);z-index:2000;display:flex;justify-content:center;align-items:center;opacity:0;visibility:hidden;transition:all 0.3s ease}
.quest-modal-overlay.active{opacity:1;visibility:visible}
.quest-modal-content{background:linear-gradient(to bottom,#1e293b,#0f172a);border:1px solid #334155;border-radius:20px;width:90%;max-width:450px;padding:20px;box-shadow:0 0 30px rgba(251,191,36,0.1);position:relative;transform:scale(0.9);transition:transform 0.3s cubic-bezier(0.175,0.885,0.32,1.275)}
.quest-modal-overlay.active .quest-modal-content{transform:scale(1)}
.quest-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;border-bottom:1px solid rgba(255,255,255,0.1);padding-bottom:10px}
.quest-title{color:#fbbf24;font-family:'Amiri',serif;font-size:20px;margin:0}
.quest-close-btn{background:none;border:none;color:#94a3b8;font-size:30px;cursor:pointer;line-height:1}
.quest-item{background:rgba(255,255,255,0.05);border-radius:12px;padding:12px;margin-bottom:12px;border:1px solid rgba(255,255,255,0.05)}
.quest-item-header{display:flex;justify-content:space-between;font-size:14px;color:#e2e8f0;margin-bottom:8px}
.quest-progress-bg{width:100%;height:10px;background:#334155;border-radius:5px;overflow:hidden;position:relative}
.quest-progress-fill{height:100%;background:linear-gradient(90deg,#fbbf24,#d97706);width:0%;border-radius:5px;transition:width 0.5s ease-out}
.quest-progress-text{font-size:12px;color:#94a3b8;margin-top:5px;text-align:left;display:block}
.quest-claim-btn{background:#10b981;color:white;border:none;padding:5px 15px;border-radius:5px;font-size:12px;cursor:pointer;margin-top:8px;animation:bounce 1s infinite}
.quest-grand-prize{text-align:center;margin-top:20px;padding-top:15px;border-top:1px solid rgba(255,255,255,0.1)}
.quest-claim-grand-btn{background:linear-gradient(45deg,#f59e0b,#fbbf24,#f59e0b);background-size:200% auto;color:#000;font-weight:bold;padding:12px 30px;border-radius:50px;border:none;cursor:pointer;font-family:'Amiri',serif;animation:gradientMove 3s linear infinite}
@keyframes gradientMove{0%{background-position:0% 50%}
50%{background-position:100% 50%}
100%{background-position:0% 50%}}
#live-score-text{user-select:none !important;-webkit-user-select:none !important;touch-action:manipulation !important;display:inline-block !important;min-width:40px;text-align:center;cursor:default}
.material-symbols-rounded{user-select:none !important;-webkit-user-select:none !important}
.btn-gold-action,.option-btn,.nav-item-btn{transition:all 0.1s ease-out !important}
#notif-dropdown,#side-menu{transition-duration:0.2s !important}
.quest-progress-fill{transition:width 0.3s ease-out !important}
.fade-in{animation-duration:0.3s !important}
.nav-glass-body{transition:all 0.2s !important}
.game-store-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:12px;padding:10px 0}
.game-item-card{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;background-color:#1e293b;border:1px solid #475569;border-radius:12px;padding:10px;transition:all 0.2s ease-out;cursor:pointer;overflow:hidden}
.game-item-card:active{transform:scale(0.95)}
.game-item-card.equipped{background-color:rgba(251,191,36,0.1);border-color:#fbbf24;box-shadow:0 0 10px rgba(251,191,36,0.2)}
.game-item-card.owned{opacity:0.7;border-color:#10b981;cursor:default}
.game-item-card.owned:active{transform:none}
.game-item-name{font-size:10px;font-weight:bold;color:#cbd5e1;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%}
.game-item-card.equipped .game-item-name{color:#fbbf24}
.game-item-price{font-size:10px;background-color:#0f172a;color:#fbbf24;padding:2px 6px;border-radius:4px}
.game-item-card.owned .game-item-price{background-color:transparent;color:#10b981}
.equip-badge{position:absolute;top:0;right:0;background-color:#fbbf24;color:#000;border-bottom-left-radius:8px;padding:2px;font-size:12px;display:none}
.game-item-card.equipped .equip-badge{display:block}
.game-item-hidden{display:none !important}
.audio-modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(8,47,73,0.85);backdrop-filter:blur(8px);z-index:2000;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;transition:opacity 0.3s ease}
.audio-modal-overlay.active{opacity:1;pointer-events:auto}
.audio-modal-content{width:90%;max-width:400px;background:linear-gradient(145deg,rgba(21,94,117,0.6)0%,rgba(8,47,73,0.9)100%);border:1px solid rgba(103,232,249,0.3);border-radius:24px;padding:24px;box-shadow:0 0 30px rgba(6,182,212,0.2),inset 0 0 20px rgba(6,182,212,0.05);display:flex;flex-direction:column;align-items:center;gap:20px;transform:translateY(20px);transition:transform 0.3s cubic-bezier(0.175,0.885,0.32,1.275)}
.audio-modal-overlay.active .audio-modal-content{transform:translateY(0)}
.audio-visual-wrapper{position:relative;width:140px;height:140px;display:flex;justify-content:center;align-items:center;margin:10px 0}
.audio-visual-circle{width:100px;height:100px;border-radius:50%;background:linear-gradient(135deg,#06b6d4,#0891b2);box-shadow:0 10px 20px rgba(6,182,212,0.4);display:flex;justify-content:center;align-items:center;position:relative;z-index:2}
.audio-main-icon{font-size:48px;color:white}
.audio-reward-badge{position:absolute !important;top:0px !important;right:10px !important;background:linear-gradient(135deg,#10b981,#059669);color:white;font-family:'Amiri',serif;font-size:0.85rem;font-weight:bold;padding:6px 14px;border-radius:20px;border:1px solid rgba(255,255,255,0.2);display:flex;align-items:center;gap:6px;box-shadow:0 5px 15px rgba(16,185,129,0.4);z-index:20;pointer-events:none;transform:translateY(-10px);transition:all 0.3s cubic-bezier(0.175,0.885,0.32,1.275)}
.audio-reward-badge:not(.hidden){transform:translateY(0);animation:popBadge 0.5s cubic-bezier(0.175,0.885,0.32,1.275)}
@keyframes popBadge{0%{transform:scale(0.5)translateY(10px);opacity:0}
100%{transform:scale(1)translateY(0);opacity:1}}
.wave{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:50%;border:1px solid rgba(103,232,249,0.5);width:100%;height:100%;z-index:1;opacity:0}
.audio-visual-circle.playing .wave{animation:wavePulse 2s infinite linear}
.audio-visual-circle.playing .wave.w2{animation-delay:0.6s}
.audio-visual-circle.playing .wave.w3{animation-delay:1.2s}
@keyframes wavePulse{0%{width:100px;height:100px;opacity:0.8;border-width:2px}
100%{width:220px;height:220px;opacity:0;border-width:0px}}
.audio-visual-circle.playing .audio-main-icon{animation:slowSpin 10s infinite linear}
.audio-title{color:#cffafe;font-family:'Amiri',serif;font-size:1.1rem;text-align:center;margin-bottom:5px}
.audio-player-container{width:100%;display:flex;flex-direction:column;gap:12px}
.audio-progress-bar-area{width:100%;height:6px;background:rgba(255,255,255,0.1);border-radius:10px;position:relative;cursor:pointer;overflow:hidden}
.audio-progress-fill{height:100%;background:#22d3ee;border-radius:10px;width:0%;transition:width 0.1s linear;box-shadow:0 0 10px #22d3ee}
.audio-time-display{display:flex;justify-content:space-between;font-size:0.75rem;color:#67e8f9;font-family:monospace}
.audio-controls{display:flex;justify-content:center;align-items:center;gap:20px;margin-top:5px}
.audio-main-btn{width:60px;height:60px;border-radius:50%;background:white;color:#0891b2;border:none;display:flex;justify-content:center;align-items:center;font-size:32px;box-shadow:0 0 15px rgba(255,255,255,0.3);cursor:pointer;transition:transform 0.1s}
.audio-main-btn:active{transform:scale(0.95)}
.audio-sec-btn{background:transparent;border:none;color:#a5f3fc;font-size:24px;cursor:pointer;opacity:0.7;transition:opacity 0.2s}
.audio-sec-btn:hover{opacity:1}
.audio-close-btn{position:absolute;top:15px;left:15px;background:transparent;border:none;color:rgba(255,255,255,0.5);cursor:pointer}
.audio-header{width:100%;text-align:center;position:relative}
#learn-mode-modal #learn-mode-modal .modal-box{background:linear-gradient(145deg,#0f172a,#1e293b);border:1px solid rgba(255,255,255,0.1);box-shadow:0 25px 50px -12px rgba(0,0,0,0.5)}
#btn-mode-listen:hover{border-color:rgba(34,211,238,0.5);box-shadow:0 0 20px rgba(34,211,238,0.1);transform:translateY(-2px)}
#btn-mode-read:hover{border-color:rgba(251,191,36,0.5);box-shadow:0 0 20px rgba(251,191,36,0.1);transform:translateY(-2px)}
button.mode-disabled{opacity:0.5;cursor:not-allowed;filter:grayscale(1);pointer-events:none}
#pdf-canvas-container{touch-action:pan-y pinch-zoom;user-select:none;background-image:radial-gradient(circle at center,#1e293b 0%,#020617 100%)}
#the-canvas{border-radius:8px;box-shadow:0 10px 30px rgba(0,0,0,0.5);max-width:95%;height:auto;max-height:90vh}
.fade-in-up{opacity:1 !important;transform:translate(0)!important;pointer-events:auto !important}
@keyframes nurGlow{0%,100%{opacity:0.8}
50%{opacity:1}}
@keyframes silver-pulse{0%,100%{opacity:1}
50%{opacity:0.9}}
@keyframes pulse-red{0%,100%{transform:scale(1)}
50%{transform:scale(0.95)}}
.nav-glass-body,.quest-modal-overlay,.modal-overlay,#side-menu-overlay{backdrop-filter:none !important;background:rgba(0,0,0,0.8)!important}
*{-webkit-tap-highlight-color:transparent}
.holo-card{background:rgba(10,10,15,0.96);border:1px solid rgba(34,211,238,0.3);border-radius:20px;box-shadow:0 0 20px rgba(6,182,212,0.15),inset 0 0 30px rgba(6,182,212,0.05);position:relative;max-width:90%;width:350px;padding:30px 20px 20px 20px;text-align:center;transform:scale(0.95);transition:transform 0.3s cubic-bezier(0.34,1.56,0.64,1)}
.modal-overlay.active .holo-card{transform:scale(1)}
.holo-lamp-icon{position:absolute;top:-25px;left:50%;transform:translateX(-50%);background:#0f172a;border:1px solid rgba(251,191,36,0.5);color:#fbbf24;width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 0 15px rgba(251,191,36,0.4);z-index:10;animation:lamp-pulse 3s infinite ease-in-out}
@keyframes lamp-pulse{0%,100%{box-shadow:0 0 15px rgba(251,191,36,0.4);border-color:rgba(251,191,36,0.5)}
50%{box-shadow:0 0 25px rgba(251,191,36,0.8);border-color:rgba(251,191,36,1)}}
.holo-title{font-family:'Amiri',serif;color:#fbbf24;font-size:1.2rem;margin-top:10px;margin-bottom:15px;text-shadow:0 0 10px rgba(251,191,36,0.3)}
.holo-text{font-family:'Amiri',serif;color:#e2e8f0;font-size:1.1rem;line-height:1.8;margin-bottom:20px}
.holo-fav-btn{position:absolute;top:10px;right:10px;color:rgba(255,255,255,0.3);transition:all 0.3s;background:transparent;border:none;cursor:pointer}
.holo-fav-btn:hover,.holo-fav-btn.active{color:#f43f5e;transform:scale(1.1);text-shadow:0 0 10px rgba(244,63,94,0.6)}
#leaderboard-view{background:var(--bg-body);z-index:40}
.last-month-winner-card{background:linear-gradient(145deg,rgba(30,41,59,0.8),rgba(15,23,42,0.95));box-shadow:0 15px 35px -5px rgba(0,0,0,0.5),0 0 20px rgba(245,158,11,0.1)}
.animate-fade-in{animation:fadeIn 0.5s ease-out forwards}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}
to{opacity:1;transform:translateY(0)}}
.leaderboard-row{background:linear-gradient(to bottom,rgba(15,23,42,0.55),rgba(2,6,23,0.85));border:1px solid rgba(148,163,184,0.12);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}
.leaderboard-row:hover{background:linear-gradient(to bottom,rgba(30,41,59,0.65),rgba(2,6,23,0.9));border-color:rgba(245,158,11,0.35)}
.leaderboard-row.lb-row{border-width:1px;border-style:solid;overflow:hidden}
.leaderboard-row.lb-row.lb-rank-default{border-color:rgba(148,163,184,0.18)}
.leaderboard-row.lb-row.lb-rank-top{background:linear-gradient(to right,rgba(120,53,15,0.35),rgba(2,6,23,0.92));border-color:rgba(245,158,11,0.35)}
.leaderboard-row.lb-row.lb-rank-1{border-color:rgba(251,191,36,0.9);box-shadow:0 0 18px rgba(251,191,36,0.22)}
.leaderboard-row.lb-row.lb-rank-2{border-color:rgba(226,232,240,0.8);box-shadow:0 0 14px rgba(226,232,240,0.18)}
.leaderboard-row.lb-row.lb-rank-3{border-color:rgba(249,115,22,0.8);box-shadow:0 0 14px rgba(249,115,22,0.18)}
.leaderboard-row .rank-icon{width:42px;height:42px;min-width:42px;border-radius:9999px;background:rgba(15,23,42,0.75);border:1px solid rgba(148,163,184,0.18);box-shadow:inset 0 0 0 1px rgba(255,255,255,0.04),0 10px 25px rgba(0,0,0,0.35)}
.leaderboard-row.lb-rank-1 .rank-icon{background:rgba(251,191,36,0.15);border-color:rgba(251,191,36,0.45)}
.leaderboard-row.lb-rank-2 .rank-icon{background:rgba(226,232,240,0.12);border-color:rgba(226,232,240,0.35)}
.leaderboard-row.lb-rank-3 .rank-icon{background:rgba(249,115,22,0.12);border-color:rgba(249,115,22,0.35)}
.leaderboard-row .player-score{display:inline-flex;align-items:center;justify-content:center;min-width:70px;padding:6px 10px;border-radius:9999px;background:rgba(245,158,11,0.12);border:1px solid rgba(245,158,11,0.25);text-shadow:none}
.leaderboard-row.lb-rank-1 .player-score{background:rgba(251,191,36,0.14);border-color:rgba(251,191,36,0.3)}
.leaderboard-row.lb-rank-2 .player-score{background:rgba(226,232,240,0.12);border-color:rgba(226,232,240,0.22)}
.leaderboard-row.lb-rank-3 .player-score{background:rgba(249,115,22,0.12);border-color:rgba(249,115,22,0.22)}
.custom-scrollbar::-webkit-scrollbar { width: 6px; }
.custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
.custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(148,163,184,.35); border-radius: 999px; }
.custom-scrollbar { scrollbar-width: thin; scrollbar-color: rgba(148,163,184,.35) transparent; }
.badge-bar.badge-bar-bronze{background:#b45309}
.badge-bar.badge-bar-silver{background:#cbd5e1}
.badge-bar.badge-bar-gold{background:#fbbf24}
.badge-bar.badge-bar-diamond{background:#22d3ee}
.badge-bar.badge-bar-legendary{background:#ef4444}
.badge-ring.badge-ring-silver{border-color:#cbd5e1;box-shadow:0 0 12px rgba(203,213,225,0.6)}
.badge-ring.badge-ring-gold{border-color:#fbbf24;box-shadow:0 0 15px rgba(251,191,36,0.8)}
.badge-ring.badge-ring-diamond{border-color:#22d3ee;box-shadow:0 0 15px rgba(34,211,238,0.8)}
.badge-ring.badge-ring-legendary{border-color:#ef4444;box-shadow:0 0 20px rgba(239,68,68,0.9);animation:pulse-slow 2s infinite}
.badge-ring.badge-ring-selected{transform:scale(1.15)!important}
@keyframes chatBadgeBlink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.25; }
}
.chat-badge-blink {
  animation: chatBadgeBlink 1.1s infinite;
  box-shadow: 0 0 14px rgba(239, 68, 68, 0.65);
}
@keyframes chatBadgePing {
  0% { transform: scale(1); opacity: 0.7; }
  100% { transform: scale(2); opacity: 0; }
}
.chat-badge-ping {
  animation: chatBadgePing 1.1s cubic-bezier(0, 0, 0.2, 1) infinite;
}
    .glass-tube-container {
        position: relative;
        background: #0f172a; 
        border-radius: 50px;
        overflow: hidden;
        box-shadow: inset 0 5px 10px rgba(0,0,0,0.8), 
                    inset 0 -2px 5px rgba(255,255,255,0.05),
                    0 1px 0 rgba(255,255,255,0.1); 
    }
    .liquid-fill {
        height: 100%;
        width: 0%; 
        border-radius: 50px;
        position: relative;
        transition: width 1.5s cubic-bezier(0.34, 1.56, 0.64, 1); 
        box-shadow: inset 0 3px 5px rgba(255,255,255,0.5), 
                    inset 0 -3px 5px rgba(0,0,0,0.3),
                    2px 0 10px currentColor; 
    }
    .liquid-fill::before {
        content: '';
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        background-image: radial-gradient(rgba(255,255,255,0.5) 1px, transparent 1px);
        background-size: 10px 10px;
        opacity: 0.4;
        animation: bubbles-float 4s linear infinite;
    }
    .glass-tube-container::after {
        content: '';
        position: absolute;
        top: 2px; left: 5px; right: 5px; height: 35%;
        background: linear-gradient(to bottom, rgba(255,255,255,0.1), transparent);
        border-radius: 50px;
        pointer-events: none;
        z-index: 2;
    }
    @keyframes bubbles-float {
        0% { background-position: 0 0; }
        100% { background-position: 20px 0; }
    }
    .liquid-red { background: linear-gradient(90deg, #ef4444, #991b1b); color: #ef4444; }
    .liquid-gold { background: linear-gradient(90deg, #f59e0b, #b45309); color: #f59e0b; }
    .liquid-cyan { background: linear-gradient(90deg, #06b6d4, #3b82f6); color: #06b6d4; }
    .liquid-green { background: linear-gradient(90deg, #10b981, #059669); color: #10b981; }
.player-level-tube-text{ text-shadow: 0 2px 6px rgba(0,0,0,0.85); }
    .achievements-grid {
        display: flex;
        flex-direction: column;
        gap: 25px;
        padding: 20px;
        padding-bottom: 120px;
        max-width: 500px;
        margin: 0 auto;
    }
    .achievement-card {
        background: #1e293b;
        border: 1px solid #334155;
        border-radius: 24px;
        overflow: hidden;
        position: relative;
        box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.5);
        display: flex;
        flex-direction: column;
        transition: transform 0.3s ease;
    }
    .image-reveal-wrapper {
        position: relative;
        width: 100%;
        height: 200px; 
        background: #0f172a;
        overflow: hidden;
    }
    .img-backdrop, .img-color {
        position: absolute;
        left: 0;
        width: 100%;
        object-fit: cover;
        pointer-events: none;        
        -webkit-touch-callout: none; 
        -webkit-user-select: none;   
        user-select: none;
        -webkit-user-drag: none;     
    }
    .img-backdrop {
        top: 0; 
        height: 100%;
        filter: grayscale(100%) brightness(30%);
        z-index: 1;
    }
    .reveal-mask {
        position: absolute;
        bottom: 0; 
        left: 0;
        width: 100%;
        overflow: hidden;
        z-index: 2;
        transition: height 1.5s cubic-bezier(0.4, 0, 0.2, 1);
        border-top: 1px solid rgba(251, 191, 36, 0.5);
        box-shadow: 0 -5px 15px rgba(251, 191, 36, 0.1);
    }
    .img-color {
        bottom: 0; 
        height: 200px !important; 
    }
    .action-footer {
        margin-top: 15px;
        border-top: 1px dashed rgba(255, 255, 255, 0.1);
        padding-top: 12px;
    }
    .btn-download-achievement {
        width: 100%;
        background: linear-gradient(90deg, #f59e0b, #d97706);
        color: #0f172a;
        font-weight: bold;
        padding: 12px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        transition: all 0.3s ease;
        text-decoration: none;
        box-shadow: 0 4px 0 #92400e;
        cursor: pointer;
    }
    .btn-download-achievement:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 0 #92400e;
        color: #fff;
    }
    .btn-download-achievement:active {
        transform: translateY(2px);
        box-shadow: 0 0 0 #92400e;
    }
@keyframes loadingBar {
            0% { transform: translateX(-100%); }
            50% { transform: translateX(0%); }
            100% { transform: translateX(100%); }
        }
@keyframes shine {
            0% { background-position: 200% 50%; }
            100% { background-position: -200% 50%; }
        }
@keyframes shimmerSweep {
            0% { transform: translateX(100%) skewX(-12deg); }
            100% { transform: translateX(-150%) skewX(-12deg); }
        }
.bg-icon-blur {
  background-image: url('Icon.png');
  background-size: 500px;
  background-position: center;
  filter: blur(10px);
}
.bg-icon-modal-watermark {
  background-image: url('Icon.png');
  background-repeat: no-repeat;
  background-position: center;
  background-size: 60%;
}
.bg-news-radial {
  background-image: radial-gradient(circle at 50% 0%, #f59e0b 0%, transparent 70%);
}
.btn-marathon-start {
  background: linear-gradient(135deg, #f3f4f6 0%, #d1d5db 100%);
  border: 1px solid rgba(107, 114, 128, 0.35);
  border-bottom-color: #9ca3af;
}
.shine-overlay {
  background-image: linear-gradient(45deg, transparent 45%, rgba(255, 255, 255, 0.1) 50%, transparent 55%);
  background-size: 200% 200%;
  animation: shine 3s infinite linear;
}
.question-card-modern{
  isolation:isolate;
}
.question-card-modern::before{
  content:"";
  position:absolute;
  inset:-6px;
  border-radius:1.75rem;
  background:linear-gradient(135deg, rgba(251,191,36,0.20), rgba(34,211,238,0.10), rgba(251,191,36,0.12));
  filter:blur(14px);
  opacity:0.55;
  z-index:0;
  pointer-events:none;
}
.question-card-modern > *{
  position:relative;
  z-index:1;
}
.question-card-modern .question-surface-modern{
  background:linear-gradient(135deg, rgba(15,23,42,0.94) 0%, rgba(30,41,59,0.78) 45%, rgba(2,6,23,0.94) 100%) !important;
  border:1px solid rgba(255,255,255,0.10) !important;
  border-top-color:rgba(251,191,36,0.28) !important;
  border-radius:1.75rem !important;
  box-shadow:0 18px 40px rgba(0,0,0,0.55) !important;
}
.option-btn.option-btn-modern{
  background:linear-gradient(180deg, rgba(30,41,59,0.70) 0%, rgba(15,23,42,0.92) 100%) !important;
  border:1px solid rgba(255,255,255,0.12) !important;
  border-bottom:3px solid rgba(0,0,0,0.55) !important;
  border-radius:1rem !important;
  box-shadow:0 10px 22px rgba(0,0,0,0.35) !important;
  backdrop-filter:blur(10px);
  -webkit-backdrop-filter:blur(10px);
  height:auto !important;
  max-height:none !important;
}
.option-btn.option-btn-modern.btn-correct{
  background:var(--correct-bg)!important;
  border-color:rgba(52,211,153,0.85)!important;
}
.option-btn.option-btn-modern.btn-incorrect{
  background:var(--wrong-bg)!important;
  border-color:rgba(248,113,113,0.85)!important;
}
.option-btn.option-btn-modern:hover{
  border-color:rgba(251,191,36,0.40) !important;
  box-shadow:0 14px 28px rgba(0,0,0,0.45) !important;
  transform:translateY(-1px) !important;
}
.option-btn.option-btn-modern:active{
  transform:translateY(3px) !important;
  border-bottom-width:1px !important;
  box-shadow:none !important;
  height:auto !important;
  max-height:none !important;
}
.option-btn.option-btn-modern .option-char{
  border-radius:9999px !important;
  background:rgba(2,6,23,0.55) !important;
  border:1px solid rgba(255,255,255,0.14) !important;
  box-shadow:inset 0 0 0 1px rgba(251,191,36,0.10), 0 6px 14px rgba(0,0,0,0.35);
  color:rgba(251,191,36,0.88) !important;
}
.option-btn.option-btn-modern:hover .option-char{
  border-color:rgba(251,191,36,0.50) !important;
  color:rgba(251,191,36,1) !important;
}
.option-btn.option-btn-modern .option-text{
  font-size:calc(var(--base-size) * 1.05) !important;
  line-height:1.45 !important;
}
.option-btn.option-btn-modern .progress-fill{
  background:linear-gradient(90deg, rgba(251,191,36,0.14), rgba(34,211,238,0.10), rgba(251,191,36,0.10)) !important;
  transform:translateX(105%) !important;
}
.option-btn.option-btn-modern:hover .progress-fill{
  transform:translateX(0) !important;
}
.options-grid-mode .option-btn.option-btn-modern{
  height:135px !important;
  min-height:135px !important;
  max-height:135px !important;
}
.options-grid-mode .option-btn.option-btn-modern:active{
  height:135px !important;
  min-height:135px !important;
  max-height:135px !important;
}
.bag-page{
  position:fixed;
  inset:0;
  width:100%;
  min-height:100vh;
  overflow:hidden;
  z-index:9999;
  background:
    radial-gradient(900px circle at 20% -10%, rgba(251,191,36,0.20), transparent 55%),
    radial-gradient(700px circle at 85% 20%, rgba(34,211,238,0.14), transparent 55%),
    linear-gradient(180deg, #020617 0%, #070b16 40%, #020617 100%);
}
#bag-modal .bag-page-box{
  max-width:none !important;
  width:100% !important;
  min-height:100vh !important;
  height:auto !important;
  border-radius:0 !important;
  border:0 !important;
  box-shadow:none !important;
  background:transparent !important;
}
#bag-modal .bag-page-header{
  position:sticky;
  top:0;
  z-index:10;
  background:rgba(2,6,23,0.82);
  backdrop-filter:blur(14px);
  -webkit-backdrop-filter:blur(14px);
  border-bottom:1px solid rgba(255,255,255,0.08);
}
#bag-modal .bag-page-body{
  padding:18px 16px;
}
#bag-modal .bag-wallet-card{
  background:linear-gradient(135deg, rgba(251,191,36,0.18), rgba(2,6,23,0.65));
  border:1px solid rgba(251,191,36,0.22);
  box-shadow:0 18px 45px rgba(0,0,0,0.45);
}
#bag-modal .bag-tabs{
  background:rgba(2,6,23,0.55);
  border:1px solid rgba(255,255,255,0.10);
  border-radius:9999px;
  padding:6px;
}
#bag-modal .bag-tabs button{
  border-radius:9999px;
}
#bag-modal .bag-tabs button.bg-amber-500{
  background:linear-gradient(135deg, #fbbf24, #f59e0b) !important;
  color:#071018 !important;
  box-shadow:0 10px 26px rgba(251,191,36,0.22) !important;
}
#bag-modal .bag-tabs button.bg-slate-700{
  background:transparent !important;
}
#bag-modal #inventory-view > .grid > div{
  background:rgba(2,6,23,0.50) !important;
  border:1px solid rgba(255,255,255,0.10) !important;
}
#bag-modal #shop-view .grid > button{
  background:rgba(2,6,23,0.55) !important;
  border:1px solid rgba(255,255,255,0.10) !important;
  box-shadow:0 10px 30px rgba(0,0,0,0.35);
}
#bag-modal #shop-view .grid > button:hover{
  transform:translateY(-2px);
}
#bag-modal #shop-view .grid > button:active{
  transform:translateY(1px);
}

/* --- Challenge UI --- */
.challenge-opt-btn {
    transition: all 0.2s ease;
}
.challenge-opt-btn:active {
    transform: scale(0.95);
}

#challenge-match-view {
    background: radial-gradient(circle at top, #1e293b 0%, #0f172a 100%);
}

.option-btn.btn-correct {
    border-color: #10b981 !important;
    background-color: rgba(16, 185, 129, 0.1) !important;
    box-shadow: 0 0 15px rgba(16, 185, 129, 0.2);
}

.option-btn.btn-incorrect {
    border-color: #ef4444 !important;
    background-color: rgba(239, 68, 68, 0.1) !important;
    box-shadow: 0 0 15px rgba(239, 68, 68, 0.2);
}
